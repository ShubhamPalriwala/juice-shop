function cov_16brxk7o36() {
  var path = "/home/shubham/Desktop/juice-shop/build/routes/likeProductReviews.ts";
  var hash = "4f5a1f6999f5654946d42cf17a9c59e5b0823d3a";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/shubham/Desktop/juice-shop/build/routes/likeProductReviews.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 13
        },
        end: {
          line: 2,
          column: 76
        }
      },
      "1": {
        start: {
          line: 3,
          column: 13
        },
        end: {
          line: 3,
          column: 55
        }
      },
      "2": {
        start: {
          line: 4,
          column: 15
        },
        end: {
          line: 4,
          column: 44
        }
      },
      "3": {
        start: {
          line: 5,
          column: 12
        },
        end: {
          line: 5,
          column: 26
        }
      },
      "4": {
        start: {
          line: 6,
          column: 21
        },
        end: {
          line: 765,
          column: 3
        }
      },
      "5": {
        start: {
          line: 766,
          column: 17
        },
        end: {
          line: 766,
          column: 50
        }
      },
      "6": {
        start: {
          line: 768,
          column: 2
        },
        end: {
          line: 770,
          column: 3
        }
      },
      "7": {
        start: {
          line: 769,
          column: 4
        },
        end: {
          line: 769,
          column: 34
        }
      },
      "8": {
        start: {
          line: 772,
          column: 23
        },
        end: {
          line: 772,
          column: 37
        }
      },
      "9": {
        start: {
          line: 775,
          column: 4
        },
        end: {
          line: 777,
          column: 6
        }
      },
      "10": {
        start: {
          line: 776,
          column: 6
        },
        end: {
          line: 776,
          column: 28
        }
      },
      "11": {
        start: {
          line: 779,
          column: 2
        },
        end: {
          line: 779,
          column: 24
        }
      },
      "12": {
        start: {
          line: 782,
          column: 0
        },
        end: {
          line: 782,
          column: 17
        }
      },
      "13": {
        start: {
          line: 791,
          column: 20
        },
        end: {
          line: 791,
          column: 84
        }
      },
      "14": {
        start: {
          line: 792,
          column: 12
        },
        end: {
          line: 792,
          column: 63
        }
      },
      "15": {
        start: {
          line: 793,
          column: 18
        },
        end: {
          line: 793,
          column: 71
        }
      },
      "16": {
        start: {
          line: 794,
          column: 0
        },
        end: {
          line: 794,
          column: 24
        }
      },
      "17": {
        start: {
          line: 796,
          column: 0
        },
        end: {
          line: 910,
          column: 2
        }
      },
      "18": {
        start: {
          line: 797,
          column: 2
        },
        end: {
          line: 797,
          column: 26
        }
      },
      "19": {
        start: {
          line: 798,
          column: 2
        },
        end: {
          line: 798,
          column: 26
        }
      },
      "20": {
        start: {
          line: 799,
          column: 2
        },
        end: {
          line: 909,
          column: 4
        }
      },
      "21": {
        start: {
          line: 800,
          column: 4
        },
        end: {
          line: 800,
          column: 28
        }
      },
      "22": {
        start: {
          line: 801,
          column: 16
        },
        end: {
          line: 801,
          column: 52
        }
      },
      "23": {
        start: {
          line: 802,
          column: 18
        },
        end: {
          line: 802,
          column: 80
        }
      },
      "24": {
        start: {
          line: 803,
          column: 4
        },
        end: {
          line: 803,
          column: 28
        }
      },
      "25": {
        start: {
          line: 804,
          column: 4
        },
        end: {
          line: 908,
          column: 7
        }
      },
      "26": {
        start: {
          line: 807,
          column: 6
        },
        end: {
          line: 807,
          column: 30
        }
      },
      "27": {
        start: {
          line: 808,
          column: 6
        },
        end: {
          line: 808,
          column: 30
        }
      },
      "28": {
        start: {
          line: 810,
          column: 6
        },
        end: {
          line: 901,
          column: 7
        }
      },
      "29": {
        start: {
          line: 811,
          column: 8
        },
        end: {
          line: 811,
          column: 35
        }
      },
      "30": {
        start: {
          line: 812,
          column: 8
        },
        end: {
          line: 812,
          column: 32
        }
      },
      "31": {
        start: {
          line: 813,
          column: 8
        },
        end: {
          line: 815,
          column: 11
        }
      },
      "32": {
        start: {
          line: 817,
          column: 8
        },
        end: {
          line: 817,
          column: 35
        }
      },
      "33": {
        start: {
          line: 818,
          column: 25
        },
        end: {
          line: 818,
          column: 65
        }
      },
      "34": {
        start: {
          line: 819,
          column: 8
        },
        end: {
          line: 819,
          column: 33
        }
      },
      "35": {
        start: {
          line: 821,
          column: 8
        },
        end: {
          line: 900,
          column: 9
        }
      },
      "36": {
        start: {
          line: 822,
          column: 10
        },
        end: {
          line: 822,
          column: 37
        }
      },
      "37": {
        start: {
          line: 823,
          column: 10
        },
        end: {
          line: 823,
          column: 35
        }
      },
      "38": {
        start: {
          line: 824,
          column: 10
        },
        end: {
          line: 893,
          column: 13
        }
      },
      "39": {
        start: {
          line: 831,
          column: 12
        },
        end: {
          line: 831,
          column: 36
        }
      },
      "40": {
        start: {
          line: 832,
          column: 12
        },
        end: {
          line: 832,
          column: 37
        }
      },
      "41": {
        start: {
          line: 834,
          column: 12
        },
        end: {
          line: 888,
          column: 20
        }
      },
      "42": {
        start: {
          line: 835,
          column: 14
        },
        end: {
          line: 835,
          column: 38
        }
      },
      "43": {
        start: {
          line: 836,
          column: 14
        },
        end: {
          line: 836,
          column: 39
        }
      },
      "44": {
        start: {
          line: 837,
          column: 14
        },
        end: {
          line: 887,
          column: 17
        }
      },
      "45": {
        start: {
          line: 840,
          column: 16
        },
        end: {
          line: 840,
          column: 40
        }
      },
      "46": {
        start: {
          line: 841,
          column: 33
        },
        end: {
          line: 841,
          column: 73
        }
      },
      "47": {
        start: {
          line: 842,
          column: 16
        },
        end: {
          line: 842,
          column: 41
        }
      },
      "48": {
        start: {
          line: 843,
          column: 16
        },
        end: {
          line: 843,
          column: 46
        }
      },
      "49": {
        start: {
          line: 844,
          column: 29
        },
        end: {
          line: 844,
          column: 56
        }
      },
      "50": {
        start: {
          line: 845,
          column: 16
        },
        end: {
          line: 845,
          column: 41
        }
      },
      "51": {
        start: {
          line: 847,
          column: 16
        },
        end: {
          line: 857,
          column: 17
        }
      },
      "52": {
        start: {
          line: 847,
          column: 30
        },
        end: {
          line: 847,
          column: 57
        }
      },
      "53": {
        start: {
          line: 848,
          column: 18
        },
        end: {
          line: 848,
          column: 43
        }
      },
      "54": {
        start: {
          line: 850,
          column: 18
        },
        end: {
          line: 856,
          column: 19
        }
      },
      "55": {
        start: {
          line: 851,
          column: 20
        },
        end: {
          line: 851,
          column: 47
        }
      },
      "56": {
        start: {
          line: 852,
          column: 20
        },
        end: {
          line: 852,
          column: 45
        }
      },
      "57": {
        start: {
          line: 853,
          column: 20
        },
        end: {
          line: 853,
          column: 28
        }
      },
      "58": {
        start: {
          line: 855,
          column: 20
        },
        end: {
          line: 855,
          column: 47
        }
      },
      "59": {
        start: {
          line: 859,
          column: 16
        },
        end: {
          line: 859,
          column: 41
        }
      },
      "60": {
        start: {
          line: 860,
          column: 16
        },
        end: {
          line: 864,
          column: 19
        }
      },
      "61": {
        start: {
          line: 861,
          column: 18
        },
        end: {
          line: 861,
          column: 42
        }
      },
      "62": {
        start: {
          line: 862,
          column: 18
        },
        end: {
          line: 862,
          column: 43
        }
      },
      "63": {
        start: {
          line: 863,
          column: 18
        },
        end: {
          line: 863,
          column: 35
        }
      },
      "64": {
        start: {
          line: 865,
          column: 16
        },
        end: {
          line: 865,
          column: 41
        }
      },
      "65": {
        start: {
          line: 866,
          column: 16
        },
        end: {
          line: 880,
          column: 19
        }
      },
      "66": {
        start: {
          line: 873,
          column: 18
        },
        end: {
          line: 873,
          column: 42
        }
      },
      "67": {
        start: {
          line: 874,
          column: 18
        },
        end: {
          line: 874,
          column: 43
        }
      },
      "68": {
        start: {
          line: 875,
          column: 18
        },
        end: {
          line: 875,
          column: 35
        }
      },
      "69": {
        start: {
          line: 877,
          column: 18
        },
        end: {
          line: 877,
          column: 42
        }
      },
      "70": {
        start: {
          line: 878,
          column: 18
        },
        end: {
          line: 878,
          column: 43
        }
      },
      "71": {
        start: {
          line: 879,
          column: 18
        },
        end: {
          line: 879,
          column: 44
        }
      },
      "72": {
        start: {
          line: 882,
          column: 16
        },
        end: {
          line: 882,
          column: 40
        }
      },
      "73": {
        start: {
          line: 883,
          column: 16
        },
        end: {
          line: 883,
          column: 41
        }
      },
      "74": {
        start: {
          line: 884,
          column: 16
        },
        end: {
          line: 886,
          column: 19
        }
      },
      "75": {
        start: {
          line: 890,
          column: 12
        },
        end: {
          line: 890,
          column: 37
        }
      },
      "76": {
        start: {
          line: 891,
          column: 12
        },
        end: {
          line: 891,
          column: 37
        }
      },
      "77": {
        start: {
          line: 892,
          column: 12
        },
        end: {
          line: 892,
          column: 38
        }
      },
      "78": {
        start: {
          line: 895,
          column: 10
        },
        end: {
          line: 895,
          column: 37
        }
      },
      "79": {
        start: {
          line: 896,
          column: 10
        },
        end: {
          line: 896,
          column: 35
        }
      },
      "80": {
        start: {
          line: 897,
          column: 10
        },
        end: {
          line: 899,
          column: 13
        }
      },
      "81": {
        start: {
          line: 903,
          column: 6
        },
        end: {
          line: 903,
          column: 31
        }
      },
      "82": {
        start: {
          line: 904,
          column: 6
        },
        end: {
          line: 904,
          column: 31
        }
      },
      "83": {
        start: {
          line: 905,
          column: 6
        },
        end: {
          line: 907,
          column: 9
        }
      }
    },
    fnMap: {
      "0": {
        name: "cov_13w5fwoo7t",
        decl: {
          start: {
            line: 1,
            column: 9
          },
          end: {
            line: 1,
            column: 23
          }
        },
        loc: {
          start: {
            line: 1,
            column: 26
          },
          end: {
            line: 780,
            column: 1
          }
        },
        line: 1
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 775,
            column: 21
          },
          end: {
            line: 775,
            column: 22
          }
        },
        loc: {
          start: {
            line: 775,
            column: 33
          },
          end: {
            line: 777,
            column: 5
          }
        },
        line: 775
      },
      "2": {
        name: "productReviews",
        decl: {
          start: {
            line: 796,
            column: 26
          },
          end: {
            line: 796,
            column: 40
          }
        },
        loc: {
          start: {
            line: 796,
            column: 43
          },
          end: {
            line: 910,
            column: 1
          }
        },
        line: 796
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 799,
            column: 9
          },
          end: {
            line: 799,
            column: 10
          }
        },
        loc: {
          start: {
            line: 799,
            column: 62
          },
          end: {
            line: 909,
            column: 3
          }
        },
        line: 799
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 806,
            column: 12
          },
          end: {
            line: 806,
            column: 13
          }
        },
        loc: {
          start: {
            line: 806,
            column: 32
          },
          end: {
            line: 902,
            column: 5
          }
        },
        line: 806
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 830,
            column: 18
          },
          end: {
            line: 830,
            column: 19
          }
        },
        loc: {
          start: {
            line: 830,
            column: 24
          },
          end: {
            line: 889,
            column: 11
          }
        },
        line: 830
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 834,
            column: 23
          },
          end: {
            line: 834,
            column: 24
          }
        },
        loc: {
          start: {
            line: 834,
            column: 35
          },
          end: {
            line: 888,
            column: 13
          }
        },
        line: 834
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 839,
            column: 22
          },
          end: {
            line: 839,
            column: 23
          }
        },
        loc: {
          start: {
            line: 839,
            column: 42
          },
          end: {
            line: 881,
            column: 15
          }
        },
        line: 839
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 860,
            column: 73
          },
          end: {
            line: 860,
            column: 74
          }
        },
        loc: {
          start: {
            line: 860,
            column: 79
          },
          end: {
            line: 864,
            column: 17
          }
        },
        line: 860
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 872,
            column: 24
          },
          end: {
            line: 872,
            column: 25
          }
        },
        loc: {
          start: {
            line: 872,
            column: 41
          },
          end: {
            line: 876,
            column: 17
          }
        },
        line: 872
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 876,
            column: 19
          },
          end: {
            line: 876,
            column: 20
          }
        },
        loc: {
          start: {
            line: 876,
            column: 37
          },
          end: {
            line: 880,
            column: 17
          }
        },
        line: 876
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 881,
            column: 17
          },
          end: {
            line: 881,
            column: 18
          }
        },
        loc: {
          start: {
            line: 881,
            column: 23
          },
          end: {
            line: 887,
            column: 15
          }
        },
        line: 881
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 889,
            column: 13
          },
          end: {
            line: 889,
            column: 14
          }
        },
        loc: {
          start: {
            line: 889,
            column: 31
          },
          end: {
            line: 893,
            column: 11
          }
        },
        line: 889
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 902,
            column: 7
          },
          end: {
            line: 902,
            column: 8
          }
        },
        loc: {
          start: {
            line: 902,
            column: 13
          },
          end: {
            line: 908,
            column: 5
          }
        },
        line: 902
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 766,
            column: 17
          },
          end: {
            line: 766,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 766,
            column: 17
          },
          end: {
            line: 766,
            column: 28
          }
        }, {
          start: {
            line: 766,
            column: 33
          },
          end: {
            line: 766,
            column: 49
          }
        }],
        line: 766
      },
      "1": {
        loc: {
          start: {
            line: 768,
            column: 2
          },
          end: {
            line: 770,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 768,
            column: 2
          },
          end: {
            line: 770,
            column: 3
          }
        }, {
          start: {
            line: 768,
            column: 2
          },
          end: {
            line: 770,
            column: 3
          }
        }],
        line: 768
      },
      "2": {
        loc: {
          start: {
            line: 768,
            column: 6
          },
          end: {
            line: 768,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 768,
            column: 6
          },
          end: {
            line: 768,
            column: 21
          }
        }, {
          start: {
            line: 768,
            column: 25
          },
          end: {
            line: 768,
            column: 53
          }
        }],
        line: 768
      },
      "3": {
        loc: {
          start: {
            line: 810,
            column: 6
          },
          end: {
            line: 901,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 810,
            column: 6
          },
          end: {
            line: 901,
            column: 7
          }
        }, {
          start: {
            line: 810,
            column: 6
          },
          end: {
            line: 901,
            column: 7
          }
        }],
        line: 810
      },
      "4": {
        loc: {
          start: {
            line: 821,
            column: 8
          },
          end: {
            line: 900,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 821,
            column: 8
          },
          end: {
            line: 900,
            column: 9
          }
        }, {
          start: {
            line: 821,
            column: 8
          },
          end: {
            line: 900,
            column: 9
          }
        }],
        line: 821
      },
      "5": {
        loc: {
          start: {
            line: 850,
            column: 18
          },
          end: {
            line: 856,
            column: 19
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 850,
            column: 18
          },
          end: {
            line: 856,
            column: 19
          }
        }, {
          start: {
            line: 850,
            column: 18
          },
          end: {
            line: 856,
            column: 19
          }
        }],
        line: 850
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      names: ["challengeUtils", "Request", "Response", "NextFunction", "Review", "challenges", "require", "db", "security", "module", "exports", "productReviews", "req", "res", "next", "id", "body", "user", "authenticatedUsers", "from", "reviews", "findOne", "_id", "then", "review", "status", "json", "error", "likedBy", "includes", "data", "email", "update", "$inc", "likesCount", "setTimeout", "push", "count", "i", "length", "solveIf", "timingAttackChallenge", "$set", "result", "err"],
      sources: ["likeProductReviews.ts"],
      sourcesContent: ["/*\n * Copyright (c) 2014-2022 Bjoern Kimminich & the OWASP Juice Shop contributors.\n * SPDX-License-Identifier: MIT\n */\n\nimport challengeUtils = require('../lib/challengeUtils')\nimport { Request, Response, NextFunction } from 'express'\nimport { Review } from '../data/types'\n\nconst challenges = require('../data/datacache').challenges\nconst db = require('../data/mongodb')\nconst security = require('../lib/insecurity')\n\nmodule.exports = function productReviews () {\n  return (req: Request, res: Response, next: NextFunction) => {\n    const id = req.body.id\n    const user = security.authenticatedUsers.from(req)\n    db.reviews.findOne({ _id: id }).then((review: Review) => {\n      if (!review) {\n        res.status(404).json({ error: 'Not found' })\n      } else {\n        const likedBy = review.likedBy\n        if (!likedBy.includes(user.data.email)) {\n          db.reviews.update(\n            { _id: id },\n            { $inc: { likesCount: 1 } }\n          ).then(\n            () => {\n              // Artificial wait for timing attack challenge\n              setTimeout(function () {\n                db.reviews.findOne({ _id: id }).then((review: Review) => {\n                  const likedBy = review.likedBy\n                  likedBy.push(user.data.email)\n                  let count = 0\n                  for (let i = 0; i < likedBy.length; i++) {\n                    if (likedBy[i] === user.data.email) {\n                      count++\n                    }\n                  }\n                  challengeUtils.solveIf(challenges.timingAttackChallenge, () => { return count > 2 })\n                  db.reviews.update(\n                    { _id: id },\n                    { $set: { likedBy: likedBy } }\n                  ).then(\n                    (result: any) => {\n                      res.json(result)\n                    }, (err: unknown) => {\n                      res.status(500).json(err)\n                    })\n                }, () => {\n                  res.status(400).json({ error: 'Wrong Params' })\n                })\n              }, 150)\n            }, (err: unknown) => {\n              res.status(500).json(err)\n            })\n        } else {\n          res.status(403).json({ error: 'Not allowed' })\n        }\n      }\n    }, () => {\n      res.status(400).json({ error: 'Wrong Params' })\n    })\n  }\n}\n"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4f5a1f6999f5654946d42cf17a9c59e5b0823d3a"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_16brxk7o36 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_16brxk7o36();

function cov_13w5fwoo7t() {
  cov_16brxk7o36().f[0]++;
  var path = (cov_16brxk7o36().s[0]++, "/home/shubham/Desktop/juice-shop/routes/likeProductReviews.ts");
  var hash = (cov_16brxk7o36().s[1]++, "f3d50df1fc956c47a2699fe7778de40cdc75de2c");
  var global = (cov_16brxk7o36().s[2]++, new Function("return this")());
  var gcv = (cov_16brxk7o36().s[3]++, "__coverage__");
  var coverageData = (cov_16brxk7o36().s[4]++, {
    path: "/home/shubham/Desktop/juice-shop/routes/likeProductReviews.ts",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 19
        },
        end: {
          line: 10,
          column: 58
        }
      },
      "1": {
        start: {
          line: 11,
          column: 11
        },
        end: {
          line: 11,
          column: 37
        }
      },
      "2": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 45
        }
      },
      "3": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 65,
          column: 1
        }
      },
      "4": {
        start: {
          line: 15,
          column: 2
        },
        end: {
          line: 64,
          column: 3
        }
      },
      "5": {
        start: {
          line: 16,
          column: 15
        },
        end: {
          line: 16,
          column: 26
        }
      },
      "6": {
        start: {
          line: 17,
          column: 17
        },
        end: {
          line: 17,
          column: 54
        }
      },
      "7": {
        start: {
          line: 18,
          column: 4
        },
        end: {
          line: 63,
          column: 6
        }
      },
      "8": {
        start: {
          line: 19,
          column: 6
        },
        end: {
          line: 60,
          column: 7
        }
      },
      "9": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 52
        }
      },
      "10": {
        start: {
          line: 22,
          column: 24
        },
        end: {
          line: 22,
          column: 38
        }
      },
      "11": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 59,
          column: 9
        }
      },
      "12": {
        start: {
          line: 24,
          column: 10
        },
        end: {
          line: 56,
          column: 14
        }
      },
      "13": {
        start: {
          line: 30,
          column: 14
        },
        end: {
          line: 53,
          column: 21
        }
      },
      "14": {
        start: {
          line: 31,
          column: 16
        },
        end: {
          line: 52,
          column: 18
        }
      },
      "15": {
        start: {
          line: 32,
          column: 34
        },
        end: {
          line: 32,
          column: 48
        }
      },
      "16": {
        start: {
          line: 33,
          column: 18
        },
        end: {
          line: 33,
          column: 47
        }
      },
      "17": {
        start: {
          line: 34,
          column: 30
        },
        end: {
          line: 34,
          column: 31
        }
      },
      "18": {
        start: {
          line: 35,
          column: 18
        },
        end: {
          line: 39,
          column: 19
        }
      },
      "19": {
        start: {
          line: 35,
          column: 31
        },
        end: {
          line: 35,
          column: 32
        }
      },
      "20": {
        start: {
          line: 36,
          column: 20
        },
        end: {
          line: 38,
          column: 21
        }
      },
      "21": {
        start: {
          line: 37,
          column: 22
        },
        end: {
          line: 37,
          column: 29
        }
      },
      "22": {
        start: {
          line: 40,
          column: 18
        },
        end: {
          line: 40,
          column: 102
        }
      },
      "23": {
        start: {
          line: 40,
          column: 83
        },
        end: {
          line: 40,
          column: 99
        }
      },
      "24": {
        start: {
          line: 41,
          column: 18
        },
        end: {
          line: 49,
          column: 22
        }
      },
      "25": {
        start: {
          line: 46,
          column: 22
        },
        end: {
          line: 46,
          column: 38
        }
      },
      "26": {
        start: {
          line: 48,
          column: 22
        },
        end: {
          line: 48,
          column: 47
        }
      },
      "27": {
        start: {
          line: 51,
          column: 18
        },
        end: {
          line: 51,
          column: 65
        }
      },
      "28": {
        start: {
          line: 55,
          column: 14
        },
        end: {
          line: 55,
          column: 39
        }
      },
      "29": {
        start: {
          line: 58,
          column: 10
        },
        end: {
          line: 58,
          column: 56
        }
      },
      "30": {
        start: {
          line: 62,
          column: 6
        },
        end: {
          line: 62,
          column: 53
        }
      }
    },
    fnMap: {
      "0": {
        name: "productReviews",
        decl: {
          start: {
            line: 14,
            column: 26
          },
          end: {
            line: 14,
            column: 40
          }
        },
        loc: {
          start: {
            line: 14,
            column: 44
          },
          end: {
            line: 65,
            column: 1
          }
        },
        line: 14
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 10
          }
        },
        loc: {
          start: {
            line: 15,
            column: 62
          },
          end: {
            line: 64,
            column: 3
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 41
          },
          end: {
            line: 18,
            column: 42
          }
        },
        loc: {
          start: {
            line: 18,
            column: 61
          },
          end: {
            line: 61,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 28,
            column: 12
          },
          end: {
            line: 28,
            column: 13
          }
        },
        loc: {
          start: {
            line: 28,
            column: 18
          },
          end: {
            line: 54,
            column: 13
          }
        },
        line: 28
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 30,
            column: 25
          },
          end: {
            line: 30,
            column: 26
          }
        },
        loc: {
          start: {
            line: 30,
            column: 37
          },
          end: {
            line: 53,
            column: 15
          }
        },
        line: 30
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 31,
            column: 53
          },
          end: {
            line: 31,
            column: 54
          }
        },
        loc: {
          start: {
            line: 31,
            column: 73
          },
          end: {
            line: 50,
            column: 17
          }
        },
        line: 31
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 40,
            column: 75
          },
          end: {
            line: 40,
            column: 76
          }
        },
        loc: {
          start: {
            line: 40,
            column: 81
          },
          end: {
            line: 40,
            column: 101
          }
        },
        line: 40
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 45,
            column: 20
          },
          end: {
            line: 45,
            column: 21
          }
        },
        loc: {
          start: {
            line: 45,
            column: 37
          },
          end: {
            line: 47,
            column: 21
          }
        },
        line: 45
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 47,
            column: 23
          },
          end: {
            line: 47,
            column: 24
          }
        },
        loc: {
          start: {
            line: 47,
            column: 41
          },
          end: {
            line: 49,
            column: 21
          }
        },
        line: 47
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 50,
            column: 19
          },
          end: {
            line: 50,
            column: 20
          }
        },
        loc: {
          start: {
            line: 50,
            column: 25
          },
          end: {
            line: 52,
            column: 17
          }
        },
        line: 50
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 54,
            column: 15
          },
          end: {
            line: 54,
            column: 16
          }
        },
        loc: {
          start: {
            line: 54,
            column: 33
          },
          end: {
            line: 56,
            column: 13
          }
        },
        line: 54
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 61,
            column: 7
          },
          end: {
            line: 61,
            column: 8
          }
        },
        loc: {
          start: {
            line: 61,
            column: 13
          },
          end: {
            line: 63,
            column: 5
          }
        },
        line: 61
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 19,
            column: 6
          },
          end: {
            line: 60,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 19,
            column: 6
          },
          end: {
            line: 60,
            column: 7
          }
        }, {
          start: {
            line: 19,
            column: 6
          },
          end: {
            line: 60,
            column: 7
          }
        }],
        line: 19
      },
      "1": {
        loc: {
          start: {
            line: 23,
            column: 8
          },
          end: {
            line: 59,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 8
          },
          end: {
            line: 59,
            column: 9
          }
        }, {
          start: {
            line: 23,
            column: 8
          },
          end: {
            line: 59,
            column: 9
          }
        }],
        line: 23
      },
      "2": {
        loc: {
          start: {
            line: 36,
            column: 20
          },
          end: {
            line: 38,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 20
          },
          end: {
            line: 38,
            column: 21
          }
        }, {
          start: {
            line: 36,
            column: 20
          },
          end: {
            line: 38,
            column: 21
          }
        }],
        line: 36
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f3d50df1fc956c47a2699fe7778de40cdc75de2c"
  });
  var coverage = (cov_16brxk7o36().s[5]++, (cov_16brxk7o36().b[0][0]++, global[gcv]) || (cov_16brxk7o36().b[0][1]++, global[gcv] = {}));
  cov_16brxk7o36().s[6]++;

  if ((cov_16brxk7o36().b[2][0]++, !coverage[path]) || (cov_16brxk7o36().b[2][1]++, coverage[path].hash !== hash)) {
    cov_16brxk7o36().b[1][0]++;
    cov_16brxk7o36().s[7]++;
    coverage[path] = coverageData;
  } else {
    cov_16brxk7o36().b[1][1]++;
  }

  var actualCoverage = (cov_16brxk7o36().s[8]++, coverage[path]);
  {
    cov_16brxk7o36().s[9]++;

    // @ts-ignore
    cov_13w5fwoo7t = function () {
      cov_16brxk7o36().f[1]++;
      cov_16brxk7o36().s[10]++;
      return actualCoverage;
    };
  }
  cov_16brxk7o36().s[11]++;
  return actualCoverage;
}

cov_16brxk7o36().s[12]++;
cov_13w5fwoo7t();
/*
 * Copyright (c) 2014-2022 Bjoern Kimminich & the OWASP Juice Shop contributors.
 * SPDX-License-Identifier: MIT
 */

import challengeUtils = require('../lib/challengeUtils');
import { Request, Response, NextFunction } from 'express';
import { Review } from '../data/types';
const challenges = (cov_16brxk7o36().s[13]++, (cov_13w5fwoo7t().s[0]++, require('../data/datacache').challenges));
const db = (cov_16brxk7o36().s[14]++, (cov_13w5fwoo7t().s[1]++, require('../data/mongodb')));
const security = (cov_16brxk7o36().s[15]++, (cov_13w5fwoo7t().s[2]++, require('../lib/insecurity')));
cov_16brxk7o36().s[16]++;
cov_13w5fwoo7t().s[3]++;
cov_16brxk7o36().s[17]++;

module.exports = function productReviews() {
  cov_16brxk7o36().f[2]++;
  cov_16brxk7o36().s[18]++;
  cov_13w5fwoo7t().f[0]++;
  cov_16brxk7o36().s[19]++;
  cov_13w5fwoo7t().s[4]++;
  cov_16brxk7o36().s[20]++;
  return (req: Request, res: Response, next: NextFunction) => {
    cov_16brxk7o36().f[3]++;
    cov_16brxk7o36().s[21]++;
    cov_13w5fwoo7t().f[1]++;
    const id = (cov_16brxk7o36().s[22]++, (cov_13w5fwoo7t().s[5]++, req.body.id));
    const user = (cov_16brxk7o36().s[23]++, (cov_13w5fwoo7t().s[6]++, security.authenticatedUsers.from(req)));
    cov_16brxk7o36().s[24]++;
    cov_13w5fwoo7t().s[7]++;
    cov_16brxk7o36().s[25]++;
    db.reviews.findOne({
      _id: id
    }).then((review: Review) => {
      cov_16brxk7o36().f[4]++;
      cov_16brxk7o36().s[26]++;
      cov_13w5fwoo7t().f[2]++;
      cov_16brxk7o36().s[27]++;
      cov_13w5fwoo7t().s[8]++;
      cov_16brxk7o36().s[28]++;

      if (!review) {
        cov_16brxk7o36().b[3][0]++;
        cov_16brxk7o36().s[29]++;
        cov_13w5fwoo7t().b[0][0]++;
        cov_16brxk7o36().s[30]++;
        cov_13w5fwoo7t().s[9]++;
        cov_16brxk7o36().s[31]++;
        res.status(404).json({
          error: 'Not found'
        });
      } else {
        cov_16brxk7o36().b[3][1]++;
        cov_16brxk7o36().s[32]++;
        cov_13w5fwoo7t().b[0][1]++;
        const likedBy = (cov_16brxk7o36().s[33]++, (cov_13w5fwoo7t().s[10]++, review.likedBy));
        cov_16brxk7o36().s[34]++;
        cov_13w5fwoo7t().s[11]++;
        cov_16brxk7o36().s[35]++;

        if (!likedBy.includes(user.data.email)) {
          cov_16brxk7o36().b[4][0]++;
          cov_16brxk7o36().s[36]++;
          cov_13w5fwoo7t().b[1][0]++;
          cov_16brxk7o36().s[37]++;
          cov_13w5fwoo7t().s[12]++;
          cov_16brxk7o36().s[38]++;
          db.reviews.update({
            _id: id
          }, {
            $inc: {
              likesCount: 1
            }
          }).then(() => {
            cov_16brxk7o36().f[5]++;
            cov_16brxk7o36().s[39]++;
            cov_13w5fwoo7t().f[3]++;
            cov_16brxk7o36().s[40]++;
            cov_13w5fwoo7t().s[13]++; // Artificial wait for timing attack challenge

            cov_16brxk7o36().s[41]++;
            setTimeout(function () {
              cov_16brxk7o36().f[6]++;
              cov_16brxk7o36().s[42]++;
              cov_13w5fwoo7t().f[4]++;
              cov_16brxk7o36().s[43]++;
              cov_13w5fwoo7t().s[14]++;
              cov_16brxk7o36().s[44]++;
              db.reviews.findOne({
                _id: id
              }).then((review: Review) => {
                cov_16brxk7o36().f[7]++;
                cov_16brxk7o36().s[45]++;
                cov_13w5fwoo7t().f[5]++;
                const likedBy = (cov_16brxk7o36().s[46]++, (cov_13w5fwoo7t().s[15]++, review.likedBy));
                cov_16brxk7o36().s[47]++;
                cov_13w5fwoo7t().s[16]++;
                cov_16brxk7o36().s[48]++;
                likedBy.push(user.data.email);
                let count = (cov_16brxk7o36().s[49]++, (cov_13w5fwoo7t().s[17]++, 0));
                cov_16brxk7o36().s[50]++;
                cov_13w5fwoo7t().s[18]++;
                cov_16brxk7o36().s[51]++;

                for (let i = (cov_16brxk7o36().s[52]++, (cov_13w5fwoo7t().s[19]++, 0)); i < likedBy.length; i++) {
                  cov_16brxk7o36().s[53]++;
                  cov_13w5fwoo7t().s[20]++;
                  cov_16brxk7o36().s[54]++;

                  if (likedBy[i] === user.data.email) {
                    cov_16brxk7o36().b[5][0]++;
                    cov_16brxk7o36().s[55]++;
                    cov_13w5fwoo7t().b[2][0]++;
                    cov_16brxk7o36().s[56]++;
                    cov_13w5fwoo7t().s[21]++;
                    cov_16brxk7o36().s[57]++;
                    count++;
                  } else {
                    cov_16brxk7o36().b[5][1]++;
                    cov_16brxk7o36().s[58]++;
                    cov_13w5fwoo7t().b[2][1]++;
                  }
                }

                cov_16brxk7o36().s[59]++;
                cov_13w5fwoo7t().s[22]++;
                cov_16brxk7o36().s[60]++;
                challengeUtils.solveIf(challenges.timingAttackChallenge, () => {
                  cov_16brxk7o36().f[8]++;
                  cov_16brxk7o36().s[61]++;
                  cov_13w5fwoo7t().f[6]++;
                  cov_16brxk7o36().s[62]++;
                  cov_13w5fwoo7t().s[23]++;
                  cov_16brxk7o36().s[63]++;
                  return count > 2;
                });
                cov_16brxk7o36().s[64]++;
                cov_13w5fwoo7t().s[24]++;
                cov_16brxk7o36().s[65]++;
                db.reviews.update({
                  _id: id
                }, {
                  $set: {
                    likedBy: likedBy
                  }
                }).then((result: any) => {
                  cov_16brxk7o36().f[9]++;
                  cov_16brxk7o36().s[66]++;
                  cov_13w5fwoo7t().f[7]++;
                  cov_16brxk7o36().s[67]++;
                  cov_13w5fwoo7t().s[25]++;
                  cov_16brxk7o36().s[68]++;
                  res.json(result);
                }, (err: unknown) => {
                  cov_16brxk7o36().f[10]++;
                  cov_16brxk7o36().s[69]++;
                  cov_13w5fwoo7t().f[8]++;
                  cov_16brxk7o36().s[70]++;
                  cov_13w5fwoo7t().s[26]++;
                  cov_16brxk7o36().s[71]++;
                  res.status(500).json(err);
                });
              }, () => {
                cov_16brxk7o36().f[11]++;
                cov_16brxk7o36().s[72]++;
                cov_13w5fwoo7t().f[9]++;
                cov_16brxk7o36().s[73]++;
                cov_13w5fwoo7t().s[27]++;
                cov_16brxk7o36().s[74]++;
                res.status(400).json({
                  error: 'Wrong Params'
                });
              });
            }, 150);
          }, (err: unknown) => {
            cov_16brxk7o36().f[12]++;
            cov_16brxk7o36().s[75]++;
            cov_13w5fwoo7t().f[10]++;
            cov_16brxk7o36().s[76]++;
            cov_13w5fwoo7t().s[28]++;
            cov_16brxk7o36().s[77]++;
            res.status(500).json(err);
          });
        } else {
          cov_16brxk7o36().b[4][1]++;
          cov_16brxk7o36().s[78]++;
          cov_13w5fwoo7t().b[1][1]++;
          cov_16brxk7o36().s[79]++;
          cov_13w5fwoo7t().s[29]++;
          cov_16brxk7o36().s[80]++;
          res.status(403).json({
            error: 'Not allowed'
          });
        }
      }
    }, () => {
      cov_16brxk7o36().f[13]++;
      cov_16brxk7o36().s[81]++;
      cov_13w5fwoo7t().f[11]++;
      cov_16brxk7o36().s[82]++;
      cov_13w5fwoo7t().s[30]++;
      cov_16brxk7o36().s[83]++;
      res.status(400).json({
        error: 'Wrong Params'
      });
    });
  };
}; //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGFsbGVuZ2VVdGlscyIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIk5leHRGdW5jdGlvbiIsIlJldmlldyIsImNoYWxsZW5nZXMiLCJyZXF1aXJlIiwiZGIiLCJzZWN1cml0eSIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcm9kdWN0UmV2aWV3cyIsInJlcSIsInJlcyIsIm5leHQiLCJpZCIsImJvZHkiLCJ1c2VyIiwiYXV0aGVudGljYXRlZFVzZXJzIiwiZnJvbSIsInJldmlld3MiLCJmaW5kT25lIiwiX2lkIiwidGhlbiIsInJldmlldyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImxpa2VkQnkiLCJpbmNsdWRlcyIsImRhdGEiLCJlbWFpbCIsInVwZGF0ZSIsIiRpbmMiLCJsaWtlc0NvdW50Iiwic2V0VGltZW91dCIsInB1c2giLCJjb3VudCIsImkiLCJsZW5ndGgiLCJzb2x2ZUlmIiwidGltaW5nQXR0YWNrQ2hhbGxlbmdlIiwiJHNldCIsInJlc3VsdCIsImVyciJdLCJzb3VyY2VzIjpbImxpa2VQcm9kdWN0UmV2aWV3cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMjIgQmpvZXJuIEtpbW1pbmljaCAmIHRoZSBPV0FTUCBKdWljZSBTaG9wIGNvbnRyaWJ1dG9ycy5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVRcbiAqL1xuXG5pbXBvcnQgY2hhbGxlbmdlVXRpbHMgPSByZXF1aXJlKCcuLi9saWIvY2hhbGxlbmdlVXRpbHMnKVxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UsIE5leHRGdW5jdGlvbiB9IGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgeyBSZXZpZXcgfSBmcm9tICcuLi9kYXRhL3R5cGVzJ1xuXG5jb25zdCBjaGFsbGVuZ2VzID0gcmVxdWlyZSgnLi4vZGF0YS9kYXRhY2FjaGUnKS5jaGFsbGVuZ2VzXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL2RhdGEvbW9uZ29kYicpXG5jb25zdCBzZWN1cml0eSA9IHJlcXVpcmUoJy4uL2xpYi9pbnNlY3VyaXR5JylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcm9kdWN0UmV2aWV3cyAoKSB7XG4gIHJldHVybiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkXG4gICAgY29uc3QgdXNlciA9IHNlY3VyaXR5LmF1dGhlbnRpY2F0ZWRVc2Vycy5mcm9tKHJlcSlcbiAgICBkYi5yZXZpZXdzLmZpbmRPbmUoeyBfaWQ6IGlkIH0pLnRoZW4oKHJldmlldzogUmV2aWV3KSA9PiB7XG4gICAgICBpZiAoIXJldmlldykge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnTm90IGZvdW5kJyB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbGlrZWRCeSA9IHJldmlldy5saWtlZEJ5XG4gICAgICAgIGlmICghbGlrZWRCeS5pbmNsdWRlcyh1c2VyLmRhdGEuZW1haWwpKSB7XG4gICAgICAgICAgZGIucmV2aWV3cy51cGRhdGUoXG4gICAgICAgICAgICB7IF9pZDogaWQgfSxcbiAgICAgICAgICAgIHsgJGluYzogeyBsaWtlc0NvdW50OiAxIH0gfVxuICAgICAgICAgICkudGhlbihcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gQXJ0aWZpY2lhbCB3YWl0IGZvciB0aW1pbmcgYXR0YWNrIGNoYWxsZW5nZVxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkYi5yZXZpZXdzLmZpbmRPbmUoeyBfaWQ6IGlkIH0pLnRoZW4oKHJldmlldzogUmV2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBsaWtlZEJ5ID0gcmV2aWV3Lmxpa2VkQnlcbiAgICAgICAgICAgICAgICAgIGxpa2VkQnkucHVzaCh1c2VyLmRhdGEuZW1haWwpXG4gICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwXG4gICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpa2VkQnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpa2VkQnlbaV0gPT09IHVzZXIuZGF0YS5lbWFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvdW50KytcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY2hhbGxlbmdlVXRpbHMuc29sdmVJZihjaGFsbGVuZ2VzLnRpbWluZ0F0dGFja0NoYWxsZW5nZSwgKCkgPT4geyByZXR1cm4gY291bnQgPiAyIH0pXG4gICAgICAgICAgICAgICAgICBkYi5yZXZpZXdzLnVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAgeyBfaWQ6IGlkIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgJHNldDogeyBsaWtlZEJ5OiBsaWtlZEJ5IH0gfVxuICAgICAgICAgICAgICAgICAgKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXMuanNvbihyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIH0sIChlcnI6IHVua25vd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1dyb25nIFBhcmFtcycgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9LCAxNTApXG4gICAgICAgICAgICB9LCAoZXJyOiB1bmtub3duKSA9PiB7XG4gICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBlcnJvcjogJ05vdCBhbGxvd2VkJyB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgKCkgPT4ge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1dyb25nIFBhcmFtcycgfSlcbiAgICB9KVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LE1BQU07TUFBQTtNQUFBO01BQUFGO01BQUE7TUFBQUE7TUFBQTtNQUNQRSxHQUFHLENBQUNZLE1BQUpaLENBQVcsR0FBWEEsRUFBZ0JhLElBQWhCYixDQUFxQjtRQUFFYyxLQUFLLEVBQUU7TUFBVCxDQUFyQmQ7SUE1Q0Y7RUFIRjtBQURGLEUiLCJuYW1lcyI6WyJjaGFsbGVuZ2VVdGlscyIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIk5leHRGdW5jdGlvbiIsIlJldmlldyIsImNoYWxsZW5nZXMiLCJyZXF1aXJlIiwiZGIiLCJzZWN1cml0eSIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcm9kdWN0UmV2aWV3cyIsImNvdl8xM3c1Zndvbzd0IiwicmVxIiwicmVzIiwibmV4dCIsImlkIiwiYm9keSIsInVzZXIiLCJhdXRoZW50aWNhdGVkVXNlcnMiLCJmcm9tIiwicmV2aWV3cyIsImZpbmRPbmUiLCJfaWQiLCJ0aGVuIiwicmV2aWV3Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibGlrZWRCeSIsImluY2x1ZGVzIiwiZGF0YSIsImVtYWlsIiwidXBkYXRlIiwiJGluYyIsImxpa2VzQ291bnQiLCJzZXRUaW1lb3V0IiwicHVzaCIsImNvdW50IiwiaSIsImxlbmd0aCIsInNvbHZlSWYiLCJ0aW1pbmdBdHRhY2tDaGFsbGVuZ2UiLCIkc2V0IiwicmVzdWx0IiwiZXJyIl0sInNvdXJjZXMiOlsibGlrZVByb2R1Y3RSZXZpZXdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAyMiBCam9lcm4gS2ltbWluaWNoICYgdGhlIE9XQVNQIEp1aWNlIFNob3AgY29udHJpYnV0b3JzLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuICovXG5cbmltcG9ydCBjaGFsbGVuZ2VVdGlscyA9IHJlcXVpcmUoJy4uL2xpYi9jaGFsbGVuZ2VVdGlscycpXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSwgTmV4dEZ1bmN0aW9uIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IFJldmlldyB9IGZyb20gJy4uL2RhdGEvdHlwZXMnXG5cbmNvbnN0IGNoYWxsZW5nZXMgPSByZXF1aXJlKCcuLi9kYXRhL2RhdGFjYWNoZScpLmNoYWxsZW5nZXNcbmNvbnN0IGRiID0gcmVxdWlyZSgnLi4vZGF0YS9tb25nb2RiJylcbmNvbnN0IHNlY3VyaXR5ID0gcmVxdWlyZSgnLi4vbGliL2luc2VjdXJpdHknKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByb2R1Y3RSZXZpZXdzICgpIHtcbiAgcmV0dXJuIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWRcbiAgICBjb25zdCB1c2VyID0gc2VjdXJpdHkuYXV0aGVudGljYXRlZFVzZXJzLmZyb20ocmVxKVxuICAgIGRiLnJldmlld3MuZmluZE9uZSh7IF9pZDogaWQgfSkudGhlbigocmV2aWV3OiBSZXZpZXcpID0+IHtcbiAgICAgIGlmICghcmV2aWV3KSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdOb3QgZm91bmQnIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBsaWtlZEJ5ID0gcmV2aWV3Lmxpa2VkQnlcbiAgICAgICAgaWYgKCFsaWtlZEJ5LmluY2x1ZGVzKHVzZXIuZGF0YS5lbWFpbCkpIHtcbiAgICAgICAgICBkYi5yZXZpZXdzLnVwZGF0ZShcbiAgICAgICAgICAgIHsgX2lkOiBpZCB9LFxuICAgICAgICAgICAgeyAkaW5jOiB7IGxpa2VzQ291bnQ6IDEgfSB9XG4gICAgICAgICAgKS50aGVuKFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBBcnRpZmljaWFsIHdhaXQgZm9yIHRpbWluZyBhdHRhY2sgY2hhbGxlbmdlXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRiLnJldmlld3MuZmluZE9uZSh7IF9pZDogaWQgfSkudGhlbigocmV2aWV3OiBSZXZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxpa2VkQnkgPSByZXZpZXcubGlrZWRCeVxuICAgICAgICAgICAgICAgICAgbGlrZWRCeS5wdXNoKHVzZXIuZGF0YS5lbWFpbClcbiAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDBcbiAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlrZWRCeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlrZWRCeVtpXSA9PT0gdXNlci5kYXRhLmVtYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY291bnQrK1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjaGFsbGVuZ2VVdGlscy5zb2x2ZUlmKGNoYWxsZW5nZXMudGltaW5nQXR0YWNrQ2hhbGxlbmdlLCAoKSA9PiB7IHJldHVybiBjb3VudCA+IDIgfSlcbiAgICAgICAgICAgICAgICAgIGRiLnJldmlld3MudXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICB7IF9pZDogaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgeyAkc2V0OiB7IGxpa2VkQnk6IGxpa2VkQnkgfSB9XG4gICAgICAgICAgICAgICAgICApLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgfSwgKGVycjogdW5rbm93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycilcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnV3JvbmcgUGFyYW1zJyB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0sIDE1MClcbiAgICAgICAgICAgIH0sIChlcnI6IHVua25vd24pID0+IHtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDQwMykuanNvbih7IGVycm9yOiAnTm90IGFsbG93ZWQnIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAoKSA9PiB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnV3JvbmcgUGFyYW1zJyB9KVxuICAgIH0pXG4gIH1cbn1cbiJdfQ==