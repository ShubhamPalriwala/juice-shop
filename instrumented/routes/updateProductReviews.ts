function cov_1oxi6o0i24() {
  var path = "/home/shubham/Desktop/juice-shop/build/routes/updateProductReviews.ts";
  var hash = "59514373125f8a64d3a6f6b0b9f62b9ac7b6ea88";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/shubham/Desktop/juice-shop/build/routes/updateProductReviews.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 13
        },
        end: {
          line: 2,
          column: 78
        }
      },
      "1": {
        start: {
          line: 3,
          column: 13
        },
        end: {
          line: 3,
          column: 55
        }
      },
      "2": {
        start: {
          line: 4,
          column: 15
        },
        end: {
          line: 4,
          column: 44
        }
      },
      "3": {
        start: {
          line: 5,
          column: 12
        },
        end: {
          line: 5,
          column: 26
        }
      },
      "4": {
        start: {
          line: 6,
          column: 21
        },
        end: {
          line: 367,
          column: 3
        }
      },
      "5": {
        start: {
          line: 368,
          column: 17
        },
        end: {
          line: 368,
          column: 50
        }
      },
      "6": {
        start: {
          line: 370,
          column: 2
        },
        end: {
          line: 372,
          column: 3
        }
      },
      "7": {
        start: {
          line: 371,
          column: 4
        },
        end: {
          line: 371,
          column: 34
        }
      },
      "8": {
        start: {
          line: 374,
          column: 23
        },
        end: {
          line: 374,
          column: 37
        }
      },
      "9": {
        start: {
          line: 377,
          column: 4
        },
        end: {
          line: 379,
          column: 6
        }
      },
      "10": {
        start: {
          line: 378,
          column: 6
        },
        end: {
          line: 378,
          column: 28
        }
      },
      "11": {
        start: {
          line: 381,
          column: 2
        },
        end: {
          line: 381,
          column: 24
        }
      },
      "12": {
        start: {
          line: 384,
          column: 0
        },
        end: {
          line: 384,
          column: 17
        }
      },
      "13": {
        start: {
          line: 392,
          column: 20
        },
        end: {
          line: 392,
          column: 84
        }
      },
      "14": {
        start: {
          line: 393,
          column: 12
        },
        end: {
          line: 393,
          column: 63
        }
      },
      "15": {
        start: {
          line: 394,
          column: 18
        },
        end: {
          line: 394,
          column: 71
        }
      },
      "16": {
        start: {
          line: 396,
          column: 0
        },
        end: {
          line: 396,
          column: 24
        }
      },
      "17": {
        start: {
          line: 398,
          column: 0
        },
        end: {
          line: 446,
          column: 2
        }
      },
      "18": {
        start: {
          line: 399,
          column: 2
        },
        end: {
          line: 399,
          column: 26
        }
      },
      "19": {
        start: {
          line: 400,
          column: 2
        },
        end: {
          line: 400,
          column: 26
        }
      },
      "20": {
        start: {
          line: 401,
          column: 2
        },
        end: {
          line: 445,
          column: 4
        }
      },
      "21": {
        start: {
          line: 402,
          column: 4
        },
        end: {
          line: 402,
          column: 28
        }
      },
      "22": {
        start: {
          line: 403,
          column: 18
        },
        end: {
          line: 403,
          column: 80
        }
      },
      "23": {
        start: {
          line: 405,
          column: 4
        },
        end: {
          line: 405,
          column: 28
        }
      },
      "24": {
        start: {
          line: 406,
          column: 4
        },
        end: {
          line: 444,
          column: 7
        }
      },
      "25": {
        start: {
          line: 423,
          column: 6
        },
        end: {
          line: 423,
          column: 30
        }
      },
      "26": {
        start: {
          line: 424,
          column: 6
        },
        end: {
          line: 424,
          column: 30
        }
      },
      "27": {
        start: {
          line: 425,
          column: 6
        },
        end: {
          line: 429,
          column: 9
        }
      },
      "28": {
        start: {
          line: 426,
          column: 8
        },
        end: {
          line: 426,
          column: 32
        }
      },
      "29": {
        start: {
          line: 427,
          column: 8
        },
        end: {
          line: 427,
          column: 32
        }
      },
      "30": {
        start: {
          line: 428,
          column: 8
        },
        end: {
          line: 428,
          column: 35
        }
      },
      "31": {
        start: {
          line: 431,
          column: 6
        },
        end: {
          line: 431,
          column: 30
        }
      },
      "32": {
        start: {
          line: 432,
          column: 6
        },
        end: {
          line: 436,
          column: 9
        }
      },
      "33": {
        start: {
          line: 433,
          column: 8
        },
        end: {
          line: 433,
          column: 32
        }
      },
      "34": {
        start: {
          line: 434,
          column: 8
        },
        end: {
          line: 434,
          column: 33
        }
      },
      "35": {
        start: {
          line: 435,
          column: 8
        },
        end: {
          line: 435,
          column: 242
        }
      },
      "36": {
        start: {
          line: 438,
          column: 6
        },
        end: {
          line: 438,
          column: 31
        }
      },
      "37": {
        start: {
          line: 439,
          column: 6
        },
        end: {
          line: 439,
          column: 23
        }
      },
      "38": {
        start: {
          line: 441,
          column: 6
        },
        end: {
          line: 441,
          column: 30
        }
      },
      "39": {
        start: {
          line: 442,
          column: 6
        },
        end: {
          line: 442,
          column: 31
        }
      },
      "40": {
        start: {
          line: 443,
          column: 6
        },
        end: {
          line: 443,
          column: 32
        }
      }
    },
    fnMap: {
      "0": {
        name: "cov_1p0pjd0102",
        decl: {
          start: {
            line: 1,
            column: 9
          },
          end: {
            line: 1,
            column: 23
          }
        },
        loc: {
          start: {
            line: 1,
            column: 26
          },
          end: {
            line: 382,
            column: 1
          }
        },
        line: 1
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 377,
            column: 21
          },
          end: {
            line: 377,
            column: 22
          }
        },
        loc: {
          start: {
            line: 377,
            column: 33
          },
          end: {
            line: 379,
            column: 5
          }
        },
        line: 377
      },
      "2": {
        name: "productReviews",
        decl: {
          start: {
            line: 398,
            column: 26
          },
          end: {
            line: 398,
            column: 40
          }
        },
        loc: {
          start: {
            line: 398,
            column: 43
          },
          end: {
            line: 446,
            column: 1
          }
        },
        line: 398
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 401,
            column: 9
          },
          end: {
            line: 401,
            column: 10
          }
        },
        loc: {
          start: {
            line: 401,
            column: 62
          },
          end: {
            line: 445,
            column: 3
          }
        },
        line: 401
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 417,
            column: 11
          },
          end: {
            line: 417,
            column: 12
          }
        },
        loc: {
          start: {
            line: 422,
            column: 10
          },
          end: {
            line: 440,
            column: 5
          }
        },
        line: 422
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 425,
            column: 63
          },
          end: {
            line: 425,
            column: 64
          }
        },
        loc: {
          start: {
            line: 425,
            column: 69
          },
          end: {
            line: 429,
            column: 7
          }
        },
        line: 425
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 432,
            column: 63
          },
          end: {
            line: 432,
            column: 64
          }
        },
        loc: {
          start: {
            line: 432,
            column: 69
          },
          end: {
            line: 436,
            column: 7
          }
        },
        line: 432
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 440,
            column: 7
          },
          end: {
            line: 440,
            column: 8
          }
        },
        loc: {
          start: {
            line: 440,
            column: 25
          },
          end: {
            line: 444,
            column: 5
          }
        },
        line: 440
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 368,
            column: 17
          },
          end: {
            line: 368,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 368,
            column: 17
          },
          end: {
            line: 368,
            column: 28
          }
        }, {
          start: {
            line: 368,
            column: 33
          },
          end: {
            line: 368,
            column: 49
          }
        }],
        line: 368
      },
      "1": {
        loc: {
          start: {
            line: 370,
            column: 2
          },
          end: {
            line: 372,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 370,
            column: 2
          },
          end: {
            line: 372,
            column: 3
          }
        }, {
          start: {
            line: 370,
            column: 2
          },
          end: {
            line: 372,
            column: 3
          }
        }],
        line: 370
      },
      "2": {
        loc: {
          start: {
            line: 370,
            column: 6
          },
          end: {
            line: 370,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 370,
            column: 6
          },
          end: {
            line: 370,
            column: 21
          }
        }, {
          start: {
            line: 370,
            column: 25
          },
          end: {
            line: 370,
            column: 53
          }
        }],
        line: 370
      },
      "3": {
        loc: {
          start: {
            line: 435,
            column: 15
          },
          end: {
            line: 435,
            column: 241
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 435,
            column: 16
          },
          end: {
            line: 435,
            column: 54
          }
        }, {
          start: {
            line: 435,
            column: 60
          },
          end: {
            line: 435,
            column: 106
          }
        }, {
          start: {
            line: 435,
            column: 112
          },
          end: {
            line: 435,
            column: 185
          }
        }, {
          start: {
            line: 435,
            column: 191
          },
          end: {
            line: 435,
            column: 240
          }
        }],
        line: 435
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0, 0]
    },
    inputSourceMap: {
      version: 3,
      names: ["challengeUtils", "Request", "Response", "NextFunction", "challenges", "require", "db", "security", "module", "exports", "productReviews", "req", "res", "next", "user", "authenticatedUsers", "from", "reviews", "update", "_id", "body", "id", "$set", "message", "multi", "then", "result", "modified", "original", "Array", "author", "solveIf", "noSqlReviewsChallenge", "forgedReviewChallenge", "data", "email", "json", "err", "status"],
      sources: ["updateProductReviews.ts"],
      sourcesContent: ["/*\n * Copyright (c) 2014-2022 Bjoern Kimminich & the OWASP Juice Shop contributors.\n * SPDX-License-Identifier: MIT\n */\n\nimport challengeUtils = require('../lib/challengeUtils')\nimport { Request, Response, NextFunction } from 'express'\n\nconst challenges = require('../data/datacache').challenges\nconst db = require('../data/mongodb')\nconst security = require('../lib/insecurity')\n\n// vuln-code-snippet start noSqlReviewsChallenge forgedReviewChallenge\nmodule.exports = function productReviews () {\n  return (req: Request, res: Response, next: NextFunction) => {\n    const user = security.authenticatedUsers.from(req) // vuln-code-snippet vuln-line forgedReviewChallenge\n    db.reviews.update( // vuln-code-snippet neutral-line forgedReviewChallenge\n      { _id: req.body.id }, // vuln-code-snippet vuln-line noSqlReviewsChallenge forgedReviewChallenge\n      { $set: { message: req.body.message } },\n      { multi: true } // vuln-code-snippet vuln-line noSqlReviewsChallenge\n    ).then(\n      (result: { modified: number, original: Array<{ author: any }> }) => {\n        challengeUtils.solveIf(challenges.noSqlReviewsChallenge, () => { return result.modified > 1 }) // vuln-code-snippet hide-line\n        challengeUtils.solveIf(challenges.forgedReviewChallenge, () => { return user?.data && result.original[0] && result.original[0].author !== user.data.email && result.modified === 1 }) // vuln-code-snippet hide-line\n        res.json(result)\n      }, (err: unknown) => {\n        res.status(500).json(err)\n      })\n  }\n}\n// vuln-code-snippet end noSqlReviewsChallenge forgedReviewChallenge\n"],
      mappings: ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;;;;;;;;;;AAfZ;AACA;AACA;AACA;AAEA,OAAOA,cAAP,GAAwB,QAAQ,uBAAR,CAAxB;AACA,SAASC,OAAT,EAAkBC,QAAlB,EAA4BC,YAA5B,QAAgD,SAAhD;AAEA,MAAMC,UAAU,6BAAGC,OAAO,CAAC,mBAAD,CAAP,CAA6BD,UAAhC,CAAhB;AACA,MAAME,EAAE,6BAAGD,OAAO,CAAC,iBAAD,CAAV,CAAR;AACA,MAAME,QAAQ,6BAAGF,OAAO,CAAC,mBAAD,CAAV,CAAd,C,CAEA;;;;AACAG,MAAM,CAACC,OAAP,GAAiB,SAASC,cAAT,GAA2B;EAAA;EAAA;EAC1C,OAAO,CAACC,GAAG,EAAEV,OAAN,EAAeW,GAAG,EAAEV,QAApB,EAA8BW,IAAI,EAAEV,YAApC,KAAqD;IAAA;IAC1D,MAAMW,IAAI,6BAAGP,QAAQ,CAACQ,kBAAT,CAA4BC,IAA5B,CAAiCL,GAAjC,CAAH,CAAV,CAD0D,CACP;;IADO;IAE1DL,EAAE,CAACW,OAAH,CAAWC,MAAX,EAAmB;IACjB;MAAEC,GAAG,EAAER,GAAG,CAACS,IAAJ,CAASC;IAAhB,CADF,EACwB;IACtB;MAAEC,IAAI,EAAE;QAAEC,OAAO,EAAEZ,GAAG,CAACS,IAAJ,CAASG;MAApB;IAAR,CAFF,EAGE;MAAEC,KAAK,EAAE;IAAT,CAHF,CAGkB;IAHlB,EAIEC,IAJF,CAKE,CAACC,MAAM,EAAE;MAAEC,QAAQ,EAAE,MAAF;MAAUC,QAAQ,EAAEC,KAAK,CAAC;QAAEC,MAAM,EAAE,GAAF;MAAR,CAAD,CAAP;IAA5B,CAAT,KAAoE;MAAA;MAAA;MAClE9B,cAAc,CAAC+B,OAAf,CAAuB3B,UAAU,CAAC4B,qBAAlC,EAAyD,MAAM;QAAA;QAAA;QAAE,OAAON,MAAM,CAACC,QAAP,GAAkB,CAAzB;MAA4B,CAA7F,EADkE,CAC6B;;MAD7B;MAElE3B,cAAc,CAAC+B,OAAf,CAAuB3B,UAAU,CAAC6B,qBAAlC,EAAyD,MAAM;QAAA;QAAA;QAAE,OAAO,6BAAAnB,IAAI,EAAEoB,IAAN,kCAAcR,MAAM,CAACE,QAAP,CAAgB,CAAhB,CAAd,kCAAoCF,MAAM,CAACE,QAAP,CAAgB,CAAhB,EAAmBE,MAAnB,KAA8BhB,IAAI,CAACoB,IAAL,CAAUC,KAA5E,kCAAqFT,MAAM,CAACC,QAAP,KAAoB,CAAzG,CAAP;MAAmH,CAApL,EAFkE,CAEoH;;MAFpH;MAGlEf,GAAG,CAACwB,IAAJ,CAASV,MAAT;IACD,CATH,EASK,CAACW,GAAG,EAAE,OAAN,KAAkB;MAAA;MAAA;MACnBzB,GAAG,CAAC0B,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqBC,GAArB;IACD,CAXH;EAYD,CAdD;AAeD,CAhBD,C,CAiBA"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "59514373125f8a64d3a6f6b0b9f62b9ac7b6ea88"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1oxi6o0i24 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_1oxi6o0i24();

function cov_1p0pjd0102() {
  cov_1oxi6o0i24().f[0]++;
  var path = (cov_1oxi6o0i24().s[0]++, "/home/shubham/Desktop/juice-shop/routes/updateProductReviews.ts");
  var hash = (cov_1oxi6o0i24().s[1]++, "e932f24d88d39dc83de32e50fa23531f1a6d1a34");
  var global = (cov_1oxi6o0i24().s[2]++, new Function("return this")());
  var gcv = (cov_1oxi6o0i24().s[3]++, "__coverage__");
  var coverageData = (cov_1oxi6o0i24().s[4]++, {
    path: "/home/shubham/Desktop/juice-shop/routes/updateProductReviews.ts",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 19
        },
        end: {
          line: 9,
          column: 58
        }
      },
      "1": {
        start: {
          line: 10,
          column: 11
        },
        end: {
          line: 10,
          column: 37
        }
      },
      "2": {
        start: {
          line: 11,
          column: 17
        },
        end: {
          line: 11,
          column: 45
        }
      },
      "3": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 30,
          column: 1
        }
      },
      "4": {
        start: {
          line: 15,
          column: 2
        },
        end: {
          line: 29,
          column: 3
        }
      },
      "5": {
        start: {
          line: 16,
          column: 17
        },
        end: {
          line: 16,
          column: 54
        }
      },
      "6": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 28,
          column: 8
        }
      },
      "7": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 102
        }
      },
      "8": {
        start: {
          line: 23,
          column: 73
        },
        end: {
          line: 23,
          column: 99
        }
      },
      "9": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 24,
          column: 189
        }
      },
      "10": {
        start: {
          line: 24,
          column: 73
        },
        end: {
          line: 24,
          column: 186
        }
      },
      "11": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 24
        }
      },
      "12": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 27,
          column: 33
        }
      }
    },
    fnMap: {
      "0": {
        name: "productReviews",
        decl: {
          start: {
            line: 14,
            column: 26
          },
          end: {
            line: 14,
            column: 40
          }
        },
        loc: {
          start: {
            line: 14,
            column: 44
          },
          end: {
            line: 30,
            column: 1
          }
        },
        line: 14
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 10
          }
        },
        loc: {
          start: {
            line: 15,
            column: 62
          },
          end: {
            line: 29,
            column: 3
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 22,
            column: 6
          },
          end: {
            line: 22,
            column: 7
          }
        },
        loc: {
          start: {
            line: 22,
            column: 74
          },
          end: {
            line: 26,
            column: 7
          }
        },
        line: 22
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 23,
            column: 65
          },
          end: {
            line: 23,
            column: 66
          }
        },
        loc: {
          start: {
            line: 23,
            column: 71
          },
          end: {
            line: 23,
            column: 101
          }
        },
        line: 23
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 24,
            column: 65
          },
          end: {
            line: 24,
            column: 66
          }
        },
        loc: {
          start: {
            line: 24,
            column: 71
          },
          end: {
            line: 24,
            column: 188
          }
        },
        line: 24
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 26,
            column: 9
          },
          end: {
            line: 26,
            column: 10
          }
        },
        loc: {
          start: {
            line: 26,
            column: 27
          },
          end: {
            line: 28,
            column: 7
          }
        },
        line: 26
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 24,
            column: 80
          },
          end: {
            line: 24,
            column: 186
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 24,
            column: 80
          },
          end: {
            line: 24,
            column: 90
          }
        }, {
          start: {
            line: 24,
            column: 94
          },
          end: {
            line: 24,
            column: 112
          }
        }, {
          start: {
            line: 24,
            column: 116
          },
          end: {
            line: 24,
            column: 161
          }
        }, {
          start: {
            line: 24,
            column: 165
          },
          end: {
            line: 24,
            column: 186
          }
        }],
        line: 24
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0, 0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "e932f24d88d39dc83de32e50fa23531f1a6d1a34"
  });
  var coverage = (cov_1oxi6o0i24().s[5]++, (cov_1oxi6o0i24().b[0][0]++, global[gcv]) || (cov_1oxi6o0i24().b[0][1]++, global[gcv] = {}));
  cov_1oxi6o0i24().s[6]++;

  if ((cov_1oxi6o0i24().b[2][0]++, !coverage[path]) || (cov_1oxi6o0i24().b[2][1]++, coverage[path].hash !== hash)) {
    cov_1oxi6o0i24().b[1][0]++;
    cov_1oxi6o0i24().s[7]++;
    coverage[path] = coverageData;
  } else {
    cov_1oxi6o0i24().b[1][1]++;
  }

  var actualCoverage = (cov_1oxi6o0i24().s[8]++, coverage[path]);
  {
    cov_1oxi6o0i24().s[9]++;

    // @ts-ignore
    cov_1p0pjd0102 = function () {
      cov_1oxi6o0i24().f[1]++;
      cov_1oxi6o0i24().s[10]++;
      return actualCoverage;
    };
  }
  cov_1oxi6o0i24().s[11]++;
  return actualCoverage;
}

cov_1oxi6o0i24().s[12]++;
cov_1p0pjd0102();
/*
 * Copyright (c) 2014-2022 Bjoern Kimminich & the OWASP Juice Shop contributors.
 * SPDX-License-Identifier: MIT
 */

import challengeUtils = require('../lib/challengeUtils');
import { Request, Response, NextFunction } from 'express';
const challenges = (cov_1oxi6o0i24().s[13]++, (cov_1p0pjd0102().s[0]++, require('../data/datacache').challenges));
const db = (cov_1oxi6o0i24().s[14]++, (cov_1p0pjd0102().s[1]++, require('../data/mongodb')));
const security = (cov_1oxi6o0i24().s[15]++, (cov_1p0pjd0102().s[2]++, require('../lib/insecurity'))); // vuln-code-snippet start noSqlReviewsChallenge forgedReviewChallenge

cov_1oxi6o0i24().s[16]++;
cov_1p0pjd0102().s[3]++;
cov_1oxi6o0i24().s[17]++;

module.exports = function productReviews() {
  cov_1oxi6o0i24().f[2]++;
  cov_1oxi6o0i24().s[18]++;
  cov_1p0pjd0102().f[0]++;
  cov_1oxi6o0i24().s[19]++;
  cov_1p0pjd0102().s[4]++;
  cov_1oxi6o0i24().s[20]++;
  return (req: Request, res: Response, next: NextFunction) => {
    cov_1oxi6o0i24().f[3]++;
    cov_1oxi6o0i24().s[21]++;
    cov_1p0pjd0102().f[1]++;
    const user = (cov_1oxi6o0i24().s[22]++, (cov_1p0pjd0102().s[5]++, security.authenticatedUsers.from(req))); // vuln-code-snippet vuln-line forgedReviewChallenge

    cov_1oxi6o0i24().s[23]++;
    cov_1p0pjd0102().s[6]++;
    cov_1oxi6o0i24().s[24]++;
    db.reviews.update( // vuln-code-snippet neutral-line forgedReviewChallenge
    {
      _id: req.body.id
    }, // vuln-code-snippet vuln-line noSqlReviewsChallenge forgedReviewChallenge
    {
      $set: {
        message: req.body.message
      }
    }, {
      multi: true
    } // vuln-code-snippet vuln-line noSqlReviewsChallenge
    ).then((result: {
      modified: number;
      original: Array<{
        author: any;
      }>;
    }) => {
      cov_1oxi6o0i24().f[4]++;
      cov_1oxi6o0i24().s[25]++;
      cov_1p0pjd0102().f[2]++;
      cov_1oxi6o0i24().s[26]++;
      cov_1p0pjd0102().s[7]++;
      cov_1oxi6o0i24().s[27]++;
      challengeUtils.solveIf(challenges.noSqlReviewsChallenge, () => {
        cov_1oxi6o0i24().f[5]++;
        cov_1oxi6o0i24().s[28]++;
        cov_1p0pjd0102().f[3]++;
        cov_1oxi6o0i24().s[29]++;
        cov_1p0pjd0102().s[8]++;
        cov_1oxi6o0i24().s[30]++;
        return result.modified > 1;
      }); // vuln-code-snippet hide-line

      cov_1oxi6o0i24().s[31]++;
      cov_1p0pjd0102().s[9]++;
      cov_1oxi6o0i24().s[32]++;
      challengeUtils.solveIf(challenges.forgedReviewChallenge, () => {
        cov_1oxi6o0i24().f[6]++;
        cov_1oxi6o0i24().s[33]++;
        cov_1p0pjd0102().f[4]++;
        cov_1oxi6o0i24().s[34]++;
        cov_1p0pjd0102().s[10]++;
        cov_1oxi6o0i24().s[35]++;
        return (cov_1oxi6o0i24().b[3][0]++, (cov_1p0pjd0102().b[0][0]++, user?.data)) && (cov_1oxi6o0i24().b[3][1]++, (cov_1p0pjd0102().b[0][1]++, result.original[0])) && (cov_1oxi6o0i24().b[3][2]++, (cov_1p0pjd0102().b[0][2]++, result.original[0].author !== user.data.email)) && (cov_1oxi6o0i24().b[3][3]++, (cov_1p0pjd0102().b[0][3]++, result.modified === 1));
      }); // vuln-code-snippet hide-line

      cov_1oxi6o0i24().s[36]++;
      cov_1p0pjd0102().s[11]++;
      cov_1oxi6o0i24().s[37]++;
      res.json(result);
    }, (err: unknown) => {
      cov_1oxi6o0i24().f[7]++;
      cov_1oxi6o0i24().s[38]++;
      cov_1p0pjd0102().f[5]++;
      cov_1oxi6o0i24().s[39]++;
      cov_1p0pjd0102().s[12]++;
      cov_1oxi6o0i24().s[40]++;
      res.status(500).json(err);
    });
  };
}; // vuln-code-snippet end noSqlReviewsChallenge forgedReviewChallenge
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGFsbGVuZ2VVdGlscyIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIk5leHRGdW5jdGlvbiIsImNoYWxsZW5nZXMiLCJyZXF1aXJlIiwiZGIiLCJzZWN1cml0eSIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcm9kdWN0UmV2aWV3cyIsInJlcSIsInJlcyIsIm5leHQiLCJ1c2VyIiwiYXV0aGVudGljYXRlZFVzZXJzIiwiZnJvbSIsInJldmlld3MiLCJ1cGRhdGUiLCJfaWQiLCJib2R5IiwiaWQiLCIkc2V0IiwibWVzc2FnZSIsIm11bHRpIiwidGhlbiIsInJlc3VsdCIsIm1vZGlmaWVkIiwib3JpZ2luYWwiLCJBcnJheSIsImF1dGhvciIsInNvbHZlSWYiLCJub1NxbFJldmlld3NDaGFsbGVuZ2UiLCJmb3JnZWRSZXZpZXdDaGFsbGVuZ2UiLCJkYXRhIiwiZW1haWwiLCJqc29uIiwiZXJyIiwic3RhdHVzIl0sInNvdXJjZXMiOlsidXBkYXRlUHJvZHVjdFJldmlld3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDIyIEJqb2VybiBLaW1taW5pY2ggJiB0aGUgT1dBU1AgSnVpY2UgU2hvcCBjb250cmlidXRvcnMuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4gKi9cblxuaW1wb3J0IGNoYWxsZW5nZVV0aWxzID0gcmVxdWlyZSgnLi4vbGliL2NoYWxsZW5nZVV0aWxzJylcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlLCBOZXh0RnVuY3Rpb24gfSBmcm9tICdleHByZXNzJ1xuXG5jb25zdCBjaGFsbGVuZ2VzID0gcmVxdWlyZSgnLi4vZGF0YS9kYXRhY2FjaGUnKS5jaGFsbGVuZ2VzXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL2RhdGEvbW9uZ29kYicpXG5jb25zdCBzZWN1cml0eSA9IHJlcXVpcmUoJy4uL2xpYi9pbnNlY3VyaXR5JylcblxuLy8gdnVsbi1jb2RlLXNuaXBwZXQgc3RhcnQgbm9TcWxSZXZpZXdzQ2hhbGxlbmdlIGZvcmdlZFJldmlld0NoYWxsZW5nZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcm9kdWN0UmV2aWV3cyAoKSB7XG4gIHJldHVybiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICBjb25zdCB1c2VyID0gc2VjdXJpdHkuYXV0aGVudGljYXRlZFVzZXJzLmZyb20ocmVxKSAvLyB2dWxuLWNvZGUtc25pcHBldCB2dWxuLWxpbmUgZm9yZ2VkUmV2aWV3Q2hhbGxlbmdlXG4gICAgZGIucmV2aWV3cy51cGRhdGUoIC8vIHZ1bG4tY29kZS1zbmlwcGV0IG5ldXRyYWwtbGluZSBmb3JnZWRSZXZpZXdDaGFsbGVuZ2VcbiAgICAgIHsgX2lkOiByZXEuYm9keS5pZCB9LCAvLyB2dWxuLWNvZGUtc25pcHBldCB2dWxuLWxpbmUgbm9TcWxSZXZpZXdzQ2hhbGxlbmdlIGZvcmdlZFJldmlld0NoYWxsZW5nZVxuICAgICAgeyAkc2V0OiB7IG1lc3NhZ2U6IHJlcS5ib2R5Lm1lc3NhZ2UgfSB9LFxuICAgICAgeyBtdWx0aTogdHJ1ZSB9IC8vIHZ1bG4tY29kZS1zbmlwcGV0IHZ1bG4tbGluZSBub1NxbFJldmlld3NDaGFsbGVuZ2VcbiAgICApLnRoZW4oXG4gICAgICAocmVzdWx0OiB7IG1vZGlmaWVkOiBudW1iZXIsIG9yaWdpbmFsOiBBcnJheTx7IGF1dGhvcjogYW55IH0+IH0pID0+IHtcbiAgICAgICAgY2hhbGxlbmdlVXRpbHMuc29sdmVJZihjaGFsbGVuZ2VzLm5vU3FsUmV2aWV3c0NoYWxsZW5nZSwgKCkgPT4geyByZXR1cm4gcmVzdWx0Lm1vZGlmaWVkID4gMSB9KSAvLyB2dWxuLWNvZGUtc25pcHBldCBoaWRlLWxpbmVcbiAgICAgICAgY2hhbGxlbmdlVXRpbHMuc29sdmVJZihjaGFsbGVuZ2VzLmZvcmdlZFJldmlld0NoYWxsZW5nZSwgKCkgPT4geyByZXR1cm4gdXNlcj8uZGF0YSAmJiByZXN1bHQub3JpZ2luYWxbMF0gJiYgcmVzdWx0Lm9yaWdpbmFsWzBdLmF1dGhvciAhPT0gdXNlci5kYXRhLmVtYWlsICYmIHJlc3VsdC5tb2RpZmllZCA9PT0gMSB9KSAvLyB2dWxuLWNvZGUtc25pcHBldCBoaWRlLWxpbmVcbiAgICAgICAgcmVzLmpzb24ocmVzdWx0KVxuICAgICAgfSwgKGVycjogdW5rbm93bikgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgICB9KVxuICB9XG59XG4vLyB2dWxuLWNvZGUtc25pcHBldCBlbmQgbm9TcWxSZXZpZXdzQ2hhbGxlbmdlIGZvcmdlZFJldmlld0NoYWxsZW5nZVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTs7Ozs7Ozs7OztBQWZaO0FBQ0E7QUFDQTtBQUNBO0FBRUEsT0FBT0EsY0FBUCxHQUF3QixRQUFRLHVCQUFSLENBQXhCO0FBQ0EsU0FBU0MsT0FBVCxFQUFrQkMsUUFBbEIsRUFBNEJDLFlBQTVCLFFBQWdELFNBQWhEO0FBRUEsTUFBTUMsVUFBVSw2QkFBR0MsT0FBTyxDQUFDLG1CQUFELENBQVAsQ0FBNkJELFVBQWhDLENBQWhCO0FBQ0EsTUFBTUUsRUFBRSw2QkFBR0QsT0FBTyxDQUFDLGlCQUFELENBQVYsQ0FBUjtBQUNBLE1BQU1FLFFBQVEsNkJBQUdGLE9BQU8sQ0FBQyxtQkFBRCxDQUFWLENBQWQsQyxDQUVBOzs7O0FBQ0FHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxjQUFULEdBQTJCO0VBQUE7RUFBQTtFQUMxQyxPQUFPLENBQUNDLEdBQUcsRUFBRVYsT0FBTixFQUFlVyxHQUFHLEVBQUVWLFFBQXBCLEVBQThCVyxJQUFJLEVBQUVWLFlBQXBDLEtBQXFEO0lBQUE7SUFDMUQsTUFBTVcsSUFBSSw2QkFBR1AsUUFBUSxDQUFDUSxrQkFBVCxDQUE0QkMsSUFBNUIsQ0FBaUNMLEdBQWpDLENBQUgsQ0FBVixDQUQwRCxDQUNQOztJQURPO0lBRTFETCxFQUFFLENBQUNXLE9BQUgsQ0FBV0MsTUFBWCxFQUFtQjtJQUNqQjtNQUFFQyxHQUFHLEVBQUVSLEdBQUcsQ0FBQ1MsSUFBSixDQUFTQztJQUFoQixDQURGLEVBQ3dCO0lBQ3RCO01BQUVDLElBQUksRUFBRTtRQUFFQyxPQUFPLEVBQUVaLEdBQUcsQ0FBQ1MsSUFBSixDQUFTRztNQUFwQjtJQUFSLENBRkYsRUFHRTtNQUFFQyxLQUFLLEVBQUU7SUFBVCxDQUhGLENBR2tCO0lBSGxCLEVBSUVDLElBSkYsQ0FLRSxDQUFDQyxNQUFNLEVBQUU7TUFBRUMsUUFBUSxFQUFFLE1BQUY7TUFBVUMsUUFBUSxFQUFFQyxLQUFLLENBQUM7UUFBRUMsTUFBTSxFQUFFLEdBQUY7TUFBUixDQUFELENBQVA7SUFBNUIsQ0FBVCxLQUFvRTtNQUFBO01BQUE7TUFDbEU5QixjQUFjLENBQUMrQixPQUFmLENBQXVCM0IsVUFBVSxDQUFDNEIscUJBQWxDLEVBQXlELE1BQU07UUFBQTtRQUFBO1FBQUUsT0FBT04sTUFBTSxDQUFDQyxRQUFQLEdBQWtCLENBQXpCO01BQTRCLENBQTdGLEVBRGtFLENBQzZCOztNQUQ3QjtNQUVsRTNCLGNBQWMsQ0FBQytCLE9BQWYsQ0FBdUIzQixVQUFVLENBQUM2QixxQkFBbEMsRUFBeUQsTUFBTTtRQUFBO1FBQUE7UUFBRSxPQUFPLDZCQUFBbkIsSUFBSSxFQUFFb0IsSUFBTixrQ0FBY1IsTUFBTSxDQUFDRSxRQUFQLENBQWdCLENBQWhCLENBQWQsa0NBQW9DRixNQUFNLENBQUNFLFFBQVAsQ0FBZ0IsQ0FBaEIsRUFBbUJFLE1BQW5CLEtBQThCaEIsSUFBSSxDQUFDb0IsSUFBTCxDQUFVQyxLQUE1RSxrQ0FBcUZULE1BQU0sQ0FBQ0MsUUFBUCxLQUFvQixDQUF6RyxDQUFQO01BQW1ILENBQXBMLEVBRmtFLENBRW9IOztNQUZwSDtNQUdsRWYsR0FBRyxDQUFDd0IsSUFBSixDQUFTVixNQUFUO0lBQ0QsQ0FUSCxFQVNLLENBQUNXLEdBQUcsRUFBRSxPQUFOLEtBQWtCO01BQUE7TUFBQTtNQUNuQnpCLEdBQUcsQ0FBQzBCLE1BQUosQ0FBVyxHQUFYLEVBQWdCRixJQUFoQixDQUFxQkMsR0FBckI7SUFDRCxDQVhIO0VBWUQsQ0FkRDtBQWVELENBaEJELEMsQ0FpQkEifQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUFNLENBQUNDLFFBQVBELEtBQW9CLENBQXpHLEVBQVA7TUFBakUsR0FGa0UsQ0FFb0g7O01BRnBIO01BQUFoQjtNQUFBO01BR2xFRSxHQUFHLENBQUN3QixJQUFKeEIsQ0FBU2MsTUFBVGQ7SUFSSixHQVNLLENBQUN5QixHQUFHLEVBQUUsT0FBTixLQUFrQjtNQUFBO01BQUE7TUFBQTNCO01BQUE7TUFBQUE7TUFBQTtNQUNuQkUsR0FBRyxDQUFDMEIsTUFBSjFCLENBQVcsR0FBWEEsRUFBZ0J3QixJQUFoQnhCLENBQXFCeUIsR0FBckJ6QjtJQVZKO0VBRkY7QUFERixFLENBaUJBIiwibmFtZXMiOlsiY2hhbGxlbmdlVXRpbHMiLCJSZXF1ZXN0IiwiUmVzcG9uc2UiLCJOZXh0RnVuY3Rpb24iLCJjaGFsbGVuZ2VzIiwicmVxdWlyZSIsImRiIiwic2VjdXJpdHkiLCJtb2R1bGUiLCJleHBvcnRzIiwicHJvZHVjdFJldmlld3MiLCJjb3ZfMXAwcGpkMDEwMiIsInJlcSIsInJlcyIsIm5leHQiLCJ1c2VyIiwiYXV0aGVudGljYXRlZFVzZXJzIiwiZnJvbSIsInJldmlld3MiLCJ1cGRhdGUiLCJfaWQiLCJib2R5IiwiaWQiLCIkc2V0IiwibWVzc2FnZSIsIm11bHRpIiwidGhlbiIsInJlc3VsdCIsIm1vZGlmaWVkIiwib3JpZ2luYWwiLCJBcnJheSIsImF1dGhvciIsInNvbHZlSWYiLCJub1NxbFJldmlld3NDaGFsbGVuZ2UiLCJmb3JnZWRSZXZpZXdDaGFsbGVuZ2UiLCJkYXRhIiwiZW1haWwiLCJqc29uIiwiZXJyIiwic3RhdHVzIl0sInNvdXJjZXMiOlsidXBkYXRlUHJvZHVjdFJldmlld3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDIyIEJqb2VybiBLaW1taW5pY2ggJiB0aGUgT1dBU1AgSnVpY2UgU2hvcCBjb250cmlidXRvcnMuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4gKi9cblxuaW1wb3J0IGNoYWxsZW5nZVV0aWxzID0gcmVxdWlyZSgnLi4vbGliL2NoYWxsZW5nZVV0aWxzJylcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlLCBOZXh0RnVuY3Rpb24gfSBmcm9tICdleHByZXNzJ1xuXG5jb25zdCBjaGFsbGVuZ2VzID0gcmVxdWlyZSgnLi4vZGF0YS9kYXRhY2FjaGUnKS5jaGFsbGVuZ2VzXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL2RhdGEvbW9uZ29kYicpXG5jb25zdCBzZWN1cml0eSA9IHJlcXVpcmUoJy4uL2xpYi9pbnNlY3VyaXR5JylcblxuLy8gdnVsbi1jb2RlLXNuaXBwZXQgc3RhcnQgbm9TcWxSZXZpZXdzQ2hhbGxlbmdlIGZvcmdlZFJldmlld0NoYWxsZW5nZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcm9kdWN0UmV2aWV3cyAoKSB7XG4gIHJldHVybiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICBjb25zdCB1c2VyID0gc2VjdXJpdHkuYXV0aGVudGljYXRlZFVzZXJzLmZyb20ocmVxKSAvLyB2dWxuLWNvZGUtc25pcHBldCB2dWxuLWxpbmUgZm9yZ2VkUmV2aWV3Q2hhbGxlbmdlXG4gICAgZGIucmV2aWV3cy51cGRhdGUoIC8vIHZ1bG4tY29kZS1zbmlwcGV0IG5ldXRyYWwtbGluZSBmb3JnZWRSZXZpZXdDaGFsbGVuZ2VcbiAgICAgIHsgX2lkOiByZXEuYm9keS5pZCB9LCAvLyB2dWxuLWNvZGUtc25pcHBldCB2dWxuLWxpbmUgbm9TcWxSZXZpZXdzQ2hhbGxlbmdlIGZvcmdlZFJldmlld0NoYWxsZW5nZVxuICAgICAgeyAkc2V0OiB7IG1lc3NhZ2U6IHJlcS5ib2R5Lm1lc3NhZ2UgfSB9LFxuICAgICAgeyBtdWx0aTogdHJ1ZSB9IC8vIHZ1bG4tY29kZS1zbmlwcGV0IHZ1bG4tbGluZSBub1NxbFJldmlld3NDaGFsbGVuZ2VcbiAgICApLnRoZW4oXG4gICAgICAocmVzdWx0OiB7IG1vZGlmaWVkOiBudW1iZXIsIG9yaWdpbmFsOiBBcnJheTx7IGF1dGhvcjogYW55IH0+IH0pID0+IHtcbiAgICAgICAgY2hhbGxlbmdlVXRpbHMuc29sdmVJZihjaGFsbGVuZ2VzLm5vU3FsUmV2aWV3c0NoYWxsZW5nZSwgKCkgPT4geyByZXR1cm4gcmVzdWx0Lm1vZGlmaWVkID4gMSB9KSAvLyB2dWxuLWNvZGUtc25pcHBldCBoaWRlLWxpbmVcbiAgICAgICAgY2hhbGxlbmdlVXRpbHMuc29sdmVJZihjaGFsbGVuZ2VzLmZvcmdlZFJldmlld0NoYWxsZW5nZSwgKCkgPT4geyByZXR1cm4gdXNlcj8uZGF0YSAmJiByZXN1bHQub3JpZ2luYWxbMF0gJiYgcmVzdWx0Lm9yaWdpbmFsWzBdLmF1dGhvciAhPT0gdXNlci5kYXRhLmVtYWlsICYmIHJlc3VsdC5tb2RpZmllZCA9PT0gMSB9KSAvLyB2dWxuLWNvZGUtc25pcHBldCBoaWRlLWxpbmVcbiAgICAgICAgcmVzLmpzb24ocmVzdWx0KVxuICAgICAgfSwgKGVycjogdW5rbm93bikgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpXG4gICAgICB9KVxuICB9XG59XG4vLyB2dWxuLWNvZGUtc25pcHBldCBlbmQgbm9TcWxSZXZpZXdzQ2hhbGxlbmdlIGZvcmdlZFJldmlld0NoYWxsZW5nZVxuIl19