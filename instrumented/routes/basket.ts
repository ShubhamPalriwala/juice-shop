function cov_1fsjh9y7co() {
  var path = "/home/shubham/Desktop/juice-shop/build/routes/basket.ts";
  var hash = "3177aac0da45f79094eb5452d2e1d237e36d9546";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/shubham/Desktop/juice-shop/build/routes/basket.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 13
        },
        end: {
          line: 2,
          column: 64
        }
      },
      "1": {
        start: {
          line: 3,
          column: 13
        },
        end: {
          line: 3,
          column: 55
        }
      },
      "2": {
        start: {
          line: 4,
          column: 15
        },
        end: {
          line: 4,
          column: 44
        }
      },
      "3": {
        start: {
          line: 5,
          column: 12
        },
        end: {
          line: 5,
          column: 26
        }
      },
      "4": {
        start: {
          line: 6,
          column: 21
        },
        end: {
          line: 470,
          column: 3
        }
      },
      "5": {
        start: {
          line: 471,
          column: 17
        },
        end: {
          line: 471,
          column: 50
        }
      },
      "6": {
        start: {
          line: 473,
          column: 2
        },
        end: {
          line: 475,
          column: 3
        }
      },
      "7": {
        start: {
          line: 474,
          column: 4
        },
        end: {
          line: 474,
          column: 34
        }
      },
      "8": {
        start: {
          line: 477,
          column: 23
        },
        end: {
          line: 477,
          column: 37
        }
      },
      "9": {
        start: {
          line: 480,
          column: 4
        },
        end: {
          line: 482,
          column: 6
        }
      },
      "10": {
        start: {
          line: 481,
          column: 6
        },
        end: {
          line: 481,
          column: 28
        }
      },
      "11": {
        start: {
          line: 484,
          column: 2
        },
        end: {
          line: 484,
          column: 24
        }
      },
      "12": {
        start: {
          line: 487,
          column: 0
        },
        end: {
          line: 487,
          column: 17
        }
      },
      "13": {
        start: {
          line: 497,
          column: 15
        },
        end: {
          line: 497,
          column: 63
        }
      },
      "14": {
        start: {
          line: 498,
          column: 18
        },
        end: {
          line: 498,
          column: 71
        }
      },
      "15": {
        start: {
          line: 499,
          column: 20
        },
        end: {
          line: 499,
          column: 84
        }
      },
      "16": {
        start: {
          line: 500,
          column: 0
        },
        end: {
          line: 500,
          column: 24
        }
      },
      "17": {
        start: {
          line: 502,
          column: 0
        },
        end: {
          line: 551,
          column: 2
        }
      },
      "18": {
        start: {
          line: 503,
          column: 2
        },
        end: {
          line: 503,
          column: 26
        }
      },
      "19": {
        start: {
          line: 504,
          column: 2
        },
        end: {
          line: 504,
          column: 26
        }
      },
      "20": {
        start: {
          line: 505,
          column: 2
        },
        end: {
          line: 550,
          column: 4
        }
      },
      "21": {
        start: {
          line: 506,
          column: 4
        },
        end: {
          line: 506,
          column: 28
        }
      },
      "22": {
        start: {
          line: 507,
          column: 16
        },
        end: {
          line: 507,
          column: 54
        }
      },
      "23": {
        start: {
          line: 508,
          column: 4
        },
        end: {
          line: 508,
          column: 28
        }
      },
      "24": {
        start: {
          line: 509,
          column: 4
        },
        end: {
          line: 549,
          column: 7
        }
      },
      "25": {
        start: {
          line: 519,
          column: 6
        },
        end: {
          line: 519,
          column: 30
        }
      },
      "26": {
        start: {
          line: 520,
          column: 6
        },
        end: {
          line: 520,
          column: 30
        }
      },
      "27": {
        start: {
          line: 523,
          column: 6
        },
        end: {
          line: 528,
          column: 9
        }
      },
      "28": {
        start: {
          line: 524,
          column: 8
        },
        end: {
          line: 524,
          column: 32
        }
      },
      "29": {
        start: {
          line: 525,
          column: 22
        },
        end: {
          line: 525,
          column: 84
        }
      },
      "30": {
        start: {
          line: 526,
          column: 8
        },
        end: {
          line: 526,
          column: 32
        }
      },
      "31": {
        start: {
          line: 527,
          column: 8
        },
        end: {
          line: 527,
          column: 321
        }
      },
      "32": {
        start: {
          line: 529,
          column: 6
        },
        end: {
          line: 529,
          column: 31
        }
      },
      "33": {
        start: {
          line: 531,
          column: 6
        },
        end: {
          line: 541,
          column: 7
        }
      },
      "34": {
        start: {
          line: 532,
          column: 8
        },
        end: {
          line: 532,
          column: 35
        }
      },
      "35": {
        start: {
          line: 533,
          column: 8
        },
        end: {
          line: 533,
          column: 33
        }
      },
      "36": {
        start: {
          line: 535,
          column: 8
        },
        end: {
          line: 538,
          column: 9
        }
      },
      "37": {
        start: {
          line: 535,
          column: 22
        },
        end: {
          line: 535,
          column: 49
        }
      },
      "38": {
        start: {
          line: 536,
          column: 10
        },
        end: {
          line: 536,
          column: 35
        }
      },
      "39": {
        start: {
          line: 537,
          column: 10
        },
        end: {
          line: 537,
          column: 68
        }
      },
      "40": {
        start: {
          line: 540,
          column: 8
        },
        end: {
          line: 540,
          column: 35
        }
      },
      "41": {
        start: {
          line: 543,
          column: 6
        },
        end: {
          line: 543,
          column: 31
        }
      },
      "42": {
        start: {
          line: 544,
          column: 6
        },
        end: {
          line: 544,
          column: 48
        }
      },
      "43": {
        start: {
          line: 546,
          column: 6
        },
        end: {
          line: 546,
          column: 30
        }
      },
      "44": {
        start: {
          line: 547,
          column: 6
        },
        end: {
          line: 547,
          column: 31
        }
      },
      "45": {
        start: {
          line: 548,
          column: 6
        },
        end: {
          line: 548,
          column: 18
        }
      }
    },
    fnMap: {
      "0": {
        name: "cov_12clh6egnp",
        decl: {
          start: {
            line: 1,
            column: 9
          },
          end: {
            line: 1,
            column: 23
          }
        },
        loc: {
          start: {
            line: 1,
            column: 26
          },
          end: {
            line: 485,
            column: 1
          }
        },
        line: 1
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 480,
            column: 21
          },
          end: {
            line: 480,
            column: 22
          }
        },
        loc: {
          start: {
            line: 480,
            column: 33
          },
          end: {
            line: 482,
            column: 5
          }
        },
        line: 480
      },
      "2": {
        name: "retrieveBasket",
        decl: {
          start: {
            line: 502,
            column: 26
          },
          end: {
            line: 502,
            column: 40
          }
        },
        loc: {
          start: {
            line: 502,
            column: 43
          },
          end: {
            line: 551,
            column: 1
          }
        },
        line: 502
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 505,
            column: 9
          },
          end: {
            line: 505,
            column: 10
          }
        },
        loc: {
          start: {
            line: 505,
            column: 62
          },
          end: {
            line: 550,
            column: 3
          }
        },
        line: 505
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 518,
            column: 12
          },
          end: {
            line: 518,
            column: 13
          }
        },
        loc: {
          start: {
            line: 518,
            column: 44
          },
          end: {
            line: 545,
            column: 5
          }
        },
        line: 518
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 523,
            column: 63
          },
          end: {
            line: 523,
            column: 64
          }
        },
        loc: {
          start: {
            line: 523,
            column: 69
          },
          end: {
            line: 528,
            column: 7
          }
        },
        line: 523
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 545,
            column: 13
          },
          end: {
            line: 545,
            column: 14
          }
        },
        loc: {
          start: {
            line: 545,
            column: 31
          },
          end: {
            line: 549,
            column: 5
          }
        },
        line: 545
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 471,
            column: 17
          },
          end: {
            line: 471,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 471,
            column: 17
          },
          end: {
            line: 471,
            column: 28
          }
        }, {
          start: {
            line: 471,
            column: 33
          },
          end: {
            line: 471,
            column: 49
          }
        }],
        line: 471
      },
      "1": {
        loc: {
          start: {
            line: 473,
            column: 2
          },
          end: {
            line: 475,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 473,
            column: 2
          },
          end: {
            line: 475,
            column: 3
          }
        }, {
          start: {
            line: 473,
            column: 2
          },
          end: {
            line: 475,
            column: 3
          }
        }],
        line: 473
      },
      "2": {
        loc: {
          start: {
            line: 473,
            column: 6
          },
          end: {
            line: 473,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 473,
            column: 6
          },
          end: {
            line: 473,
            column: 21
          }
        }, {
          start: {
            line: 473,
            column: 25
          },
          end: {
            line: 473,
            column: 53
          }
        }],
        line: 473
      },
      "3": {
        loc: {
          start: {
            line: 527,
            column: 15
          },
          end: {
            line: 527,
            column: 320
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 527,
            column: 16
          },
          end: {
            line: 527,
            column: 48
          }
        }, {
          start: {
            line: 527,
            column: 54
          },
          end: {
            line: 527,
            column: 84
          }
        }, {
          start: {
            line: 527,
            column: 90
          },
          end: {
            line: 527,
            column: 136
          }
        }, {
          start: {
            line: 527,
            column: 142
          },
          end: {
            line: 527,
            column: 183
          }
        }, {
          start: {
            line: 527,
            column: 189
          },
          end: {
            line: 527,
            column: 229
          }
        }, {
          start: {
            line: 527,
            column: 235
          },
          end: {
            line: 527,
            column: 271
          }
        }, {
          start: {
            line: 527,
            column: 277
          },
          end: {
            line: 527,
            column: 319
          }
        }],
        line: 527
      },
      "4": {
        loc: {
          start: {
            line: 531,
            column: 6
          },
          end: {
            line: 541,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 531,
            column: 6
          },
          end: {
            line: 541,
            column: 7
          }
        }, {
          start: {
            line: 531,
            column: 6
          },
          end: {
            line: 541,
            column: 7
          }
        }],
        line: 531
      },
      "5": {
        loc: {
          start: {
            line: 531,
            column: 10
          },
          end: {
            line: 531,
            column: 116
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 531,
            column: 11
          },
          end: {
            line: 531,
            column: 55
          }
        }, {
          start: {
            line: 531,
            column: 61
          },
          end: {
            line: 531,
            column: 115
          }
        }],
        line: 531
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0, 0, 0, 0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      names: ["Request", "Response", "NextFunction", "ProductModel", "BasketModel", "challengeUtils", "utils", "require", "security", "challenges", "module", "exports", "retrieveBasket", "req", "res", "next", "id", "params", "findOne", "where", "include", "model", "paranoid", "as", "then", "basket", "solveIf", "basketAccessChallenge", "user", "authenticatedUsers", "from", "bid", "Products", "length", "i", "name", "__", "json", "queryResultToJson", "catch", "error", "Error"],
      sources: ["basket.ts"],
      sourcesContent: ["/*\n * Copyright (c) 2014-2022 Bjoern Kimminich & the OWASP Juice Shop contributors.\n * SPDX-License-Identifier: MIT\n */\n\nimport { Request, Response, NextFunction } from 'express'\nimport { ProductModel } from '../models/product'\nimport { BasketModel } from '../models/basket'\nimport challengeUtils = require('../lib/challengeUtils')\n\nconst utils = require('../lib/utils')\nconst security = require('../lib/insecurity')\nconst challenges = require('../data/datacache').challenges\n\nmodule.exports = function retrieveBasket () {\n  return (req: Request, res: Response, next: NextFunction) => {\n    const id = req.params.id\n    BasketModel.findOne({ where: { id }, include: [{ model: ProductModel, paranoid: false, as: 'Products' }] })\n      .then((basket: BasketModel | null) => {\n        /* jshint eqeqeq:false */\n        challengeUtils.solveIf(challenges.basketAccessChallenge, () => {\n          const user = security.authenticatedUsers.from(req)\n          return user && id && id !== 'undefined' && id !== 'null' && id !== 'NaN' && user.bid && user.bid != id // eslint-disable-line eqeqeq\n        })\n        if (basket?.Products && basket.Products.length > 0) {\n          for (let i = 0; i < basket.Products.length; i++) {\n            basket.Products[i].name = req.__(basket.Products[i].name)\n          }\n        }\n\n        res.json(utils.queryResultToJson(basket))\n      }).catch((error: Error) => {\n        next(error)\n      })\n  }\n}\n"],
      mappings: ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;;;;;;;;;;AAfZ;AACA;AACA;AACA;AAEA,SAASA,OAAT,EAAkBC,QAAlB,EAA4BC,YAA5B,QAAgD,SAAhD;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,cAAP,GAAwB,QAAQ,uBAAR,CAAxB;AAEA,MAAMC,KAAK,6BAAGC,OAAO,CAAC,cAAD,CAAV,CAAX;AACA,MAAMC,QAAQ,6BAAGD,OAAO,CAAC,mBAAD,CAAV,CAAd;AACA,MAAME,UAAU,6BAAGF,OAAO,CAAC,mBAAD,CAAP,CAA6BE,UAAhC,CAAhB;;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,cAAT,GAA2B;EAAA;EAAA;EAC1C,OAAO,CAACC,GAAG,EAAEb,OAAN,EAAec,GAAG,EAAEb,QAApB,EAA8Bc,IAAI,EAAEb,YAApC,KAAqD;IAAA;IAC1D,MAAMc,EAAE,6BAAGH,GAAG,CAACI,MAAJ,CAAWD,EAAd,CAAR;IAD0D;IAE1DZ,WAAW,CAACc,OAAZ,CAAoB;MAAEC,KAAK,EAAE;QAAEH;MAAF,CAAT;MAAiBI,OAAO,EAAE,CAAC;QAAEC,KAAK,EAAElB,YAAT;QAAuBmB,QAAQ,EAAE,KAAjC;QAAwCC,EAAE,EAAE;MAA5C,CAAD;IAA1B,CAApB,EACGC,IADH,CACQ,CAACC,MAAM,EAAErB,WAAW,GAAG,IAAvB,KAAgC;MAAA;MAAA;;MACpC;MACAC,cAAc,CAACqB,OAAf,CAAuBjB,UAAU,CAACkB,qBAAlC,EAAyD,MAAM;QAAA;QAC7D,MAAMC,IAAI,6BAAGpB,QAAQ,CAACqB,kBAAT,CAA4BC,IAA5B,CAAiCjB,GAAjC,CAAH,CAAV;QAD6D;QAE7D,OAAO,6BAAAe,IAAI,kCAAIZ,EAAJ,CAAJ,iCAAcA,EAAE,KAAK,WAArB,kCAAoCA,EAAE,KAAK,MAA3C,kCAAqDA,EAAE,KAAK,KAA5D,kCAAqEY,IAAI,CAACG,GAA1E,kCAAiFH,IAAI,CAACG,GAAL,IAAYf,EAA7F,CAAP,CAF6D,CAE0C;MACxG,CAHD;MAFoC;;MAMpC,IAAI,6BAAAS,MAAM,EAAEO,QAAR,kCAAoBP,MAAM,CAACO,QAAP,CAAgBC,MAAhB,GAAyB,CAA7C,CAAJ,EAAoD;QAAA;QAAA;;QAClD,KAAK,IAAIC,CAAC,8BAAG,CAAH,CAAV,EAAgBA,CAAC,GAAGT,MAAM,CAACO,QAAP,CAAgBC,MAApC,EAA4CC,CAAC,EAA7C,EAAiD;UAAA;UAC/CT,MAAM,CAACO,QAAP,CAAgBE,CAAhB,EAAmBC,IAAnB,GAA0BtB,GAAG,CAACuB,EAAJ,CAAOX,MAAM,CAACO,QAAP,CAAgBE,CAAhB,EAAmBC,IAA1B,CAA1B;QACD;MACF,CAJD;QAAA;MAAA;;MANoC;MAYpCrB,GAAG,CAACuB,IAAJ,CAAS/B,KAAK,CAACgC,iBAAN,CAAwBb,MAAxB,CAAT;IACD,CAdH,EAcKc,KAdL,CAcW,CAACC,KAAK,EAAEC,KAAR,KAAkB;MAAA;MAAA;MACzB1B,IAAI,CAACyB,KAAD,CAAJ;IACD,CAhBH;EAiBD,CAnBD;AAoBD,CArBD"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "3177aac0da45f79094eb5452d2e1d237e36d9546"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1fsjh9y7co = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_1fsjh9y7co();

function cov_12clh6egnp() {
  cov_1fsjh9y7co().f[0]++;
  var path = (cov_1fsjh9y7co().s[0]++, "/home/shubham/Desktop/juice-shop/routes/basket.ts");
  var hash = (cov_1fsjh9y7co().s[1]++, "bd47724ab57018b6b7f71ee058df6af7cc78d04b");
  var global = (cov_1fsjh9y7co().s[2]++, new Function("return this")());
  var gcv = (cov_1fsjh9y7co().s[3]++, "__coverage__");
  var coverageData = (cov_1fsjh9y7co().s[4]++, {
    path: "/home/shubham/Desktop/juice-shop/routes/basket.ts",
    statementMap: {
      "0": {
        start: {
          line: 11,
          column: 14
        },
        end: {
          line: 11,
          column: 37
        }
      },
      "1": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 45
        }
      },
      "2": {
        start: {
          line: 13,
          column: 19
        },
        end: {
          line: 13,
          column: 58
        }
      },
      "3": {
        start: {
          line: 15,
          column: 0
        },
        end: {
          line: 36,
          column: 1
        }
      },
      "4": {
        start: {
          line: 16,
          column: 2
        },
        end: {
          line: 35,
          column: 3
        }
      },
      "5": {
        start: {
          line: 17,
          column: 15
        },
        end: {
          line: 17,
          column: 28
        }
      },
      "6": {
        start: {
          line: 18,
          column: 4
        },
        end: {
          line: 34,
          column: 8
        }
      },
      "7": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 24,
          column: 10
        }
      },
      "8": {
        start: {
          line: 22,
          column: 23
        },
        end: {
          line: 22,
          column: 60
        }
      },
      "9": {
        start: {
          line: 23,
          column: 10
        },
        end: {
          line: 23,
          column: 112
        }
      },
      "10": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 29,
          column: 9
        }
      },
      "11": {
        start: {
          line: 26,
          column: 10
        },
        end: {
          line: 28,
          column: 11
        }
      },
      "12": {
        start: {
          line: 26,
          column: 23
        },
        end: {
          line: 26,
          column: 24
        }
      },
      "13": {
        start: {
          line: 27,
          column: 12
        },
        end: {
          line: 27,
          column: 69
        }
      },
      "14": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 49
        }
      },
      "15": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 33,
          column: 19
        }
      }
    },
    fnMap: {
      "0": {
        name: "retrieveBasket",
        decl: {
          start: {
            line: 15,
            column: 26
          },
          end: {
            line: 15,
            column: 40
          }
        },
        loc: {
          start: {
            line: 15,
            column: 44
          },
          end: {
            line: 36,
            column: 1
          }
        },
        line: 15
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 9
          },
          end: {
            line: 16,
            column: 10
          }
        },
        loc: {
          start: {
            line: 16,
            column: 62
          },
          end: {
            line: 35,
            column: 3
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 19,
            column: 12
          },
          end: {
            line: 19,
            column: 13
          }
        },
        loc: {
          start: {
            line: 19,
            column: 44
          },
          end: {
            line: 32,
            column: 7
          }
        },
        line: 19
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 21,
            column: 65
          },
          end: {
            line: 21,
            column: 66
          }
        },
        loc: {
          start: {
            line: 21,
            column: 71
          },
          end: {
            line: 24,
            column: 9
          }
        },
        line: 21
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 32,
            column: 15
          },
          end: {
            line: 32,
            column: 16
          }
        },
        loc: {
          start: {
            line: 32,
            column: 33
          },
          end: {
            line: 34,
            column: 7
          }
        },
        line: 32
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 23,
            column: 17
          },
          end: {
            line: 23,
            column: 112
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 23,
            column: 17
          },
          end: {
            line: 23,
            column: 21
          }
        }, {
          start: {
            line: 23,
            column: 25
          },
          end: {
            line: 23,
            column: 27
          }
        }, {
          start: {
            line: 23,
            column: 31
          },
          end: {
            line: 23,
            column: 49
          }
        }, {
          start: {
            line: 23,
            column: 53
          },
          end: {
            line: 23,
            column: 66
          }
        }, {
          start: {
            line: 23,
            column: 70
          },
          end: {
            line: 23,
            column: 82
          }
        }, {
          start: {
            line: 23,
            column: 86
          },
          end: {
            line: 23,
            column: 94
          }
        }, {
          start: {
            line: 23,
            column: 98
          },
          end: {
            line: 23,
            column: 112
          }
        }],
        line: 23
      },
      "1": {
        loc: {
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        }, {
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        }],
        line: 25
      },
      "2": {
        loc: {
          start: {
            line: 25,
            column: 12
          },
          end: {
            line: 25,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 25,
            column: 12
          },
          end: {
            line: 25,
            column: 28
          }
        }, {
          start: {
            line: 25,
            column: 32
          },
          end: {
            line: 25,
            column: 58
          }
        }],
        line: 25
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0, 0, 0, 0, 0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "bd47724ab57018b6b7f71ee058df6af7cc78d04b"
  });
  var coverage = (cov_1fsjh9y7co().s[5]++, (cov_1fsjh9y7co().b[0][0]++, global[gcv]) || (cov_1fsjh9y7co().b[0][1]++, global[gcv] = {}));
  cov_1fsjh9y7co().s[6]++;

  if ((cov_1fsjh9y7co().b[2][0]++, !coverage[path]) || (cov_1fsjh9y7co().b[2][1]++, coverage[path].hash !== hash)) {
    cov_1fsjh9y7co().b[1][0]++;
    cov_1fsjh9y7co().s[7]++;
    coverage[path] = coverageData;
  } else {
    cov_1fsjh9y7co().b[1][1]++;
  }

  var actualCoverage = (cov_1fsjh9y7co().s[8]++, coverage[path]);
  {
    cov_1fsjh9y7co().s[9]++;

    // @ts-ignore
    cov_12clh6egnp = function () {
      cov_1fsjh9y7co().f[1]++;
      cov_1fsjh9y7co().s[10]++;
      return actualCoverage;
    };
  }
  cov_1fsjh9y7co().s[11]++;
  return actualCoverage;
}

cov_1fsjh9y7co().s[12]++;
cov_12clh6egnp();
/*
 * Copyright (c) 2014-2022 Bjoern Kimminich & the OWASP Juice Shop contributors.
 * SPDX-License-Identifier: MIT
 */

import { Request, Response, NextFunction } from 'express';
import { ProductModel } from '../models/product';
import { BasketModel } from '../models/basket';
import challengeUtils = require('../lib/challengeUtils');
const utils = (cov_1fsjh9y7co().s[13]++, (cov_12clh6egnp().s[0]++, require('../lib/utils')));
const security = (cov_1fsjh9y7co().s[14]++, (cov_12clh6egnp().s[1]++, require('../lib/insecurity')));
const challenges = (cov_1fsjh9y7co().s[15]++, (cov_12clh6egnp().s[2]++, require('../data/datacache').challenges));
cov_1fsjh9y7co().s[16]++;
cov_12clh6egnp().s[3]++;
cov_1fsjh9y7co().s[17]++;

module.exports = function retrieveBasket() {
  cov_1fsjh9y7co().f[2]++;
  cov_1fsjh9y7co().s[18]++;
  cov_12clh6egnp().f[0]++;
  cov_1fsjh9y7co().s[19]++;
  cov_12clh6egnp().s[4]++;
  cov_1fsjh9y7co().s[20]++;
  return (req: Request, res: Response, next: NextFunction) => {
    cov_1fsjh9y7co().f[3]++;
    cov_1fsjh9y7co().s[21]++;
    cov_12clh6egnp().f[1]++;
    const id = (cov_1fsjh9y7co().s[22]++, (cov_12clh6egnp().s[5]++, req.params.id));
    cov_1fsjh9y7co().s[23]++;
    cov_12clh6egnp().s[6]++;
    cov_1fsjh9y7co().s[24]++;
    BasketModel.findOne({
      where: {
        id
      },
      include: [{
        model: ProductModel,
        paranoid: false,
        as: 'Products'
      }]
    }).then((basket: BasketModel | null) => {
      cov_1fsjh9y7co().f[4]++;
      cov_1fsjh9y7co().s[25]++;
      cov_12clh6egnp().f[2]++;
      cov_1fsjh9y7co().s[26]++;
      cov_12clh6egnp().s[7]++;
      /* jshint eqeqeq:false */

      cov_1fsjh9y7co().s[27]++;
      challengeUtils.solveIf(challenges.basketAccessChallenge, () => {
        cov_1fsjh9y7co().f[5]++;
        cov_1fsjh9y7co().s[28]++;
        cov_12clh6egnp().f[3]++;
        const user = (cov_1fsjh9y7co().s[29]++, (cov_12clh6egnp().s[8]++, security.authenticatedUsers.from(req)));
        cov_1fsjh9y7co().s[30]++;
        cov_12clh6egnp().s[9]++;
        cov_1fsjh9y7co().s[31]++;
        return (cov_1fsjh9y7co().b[3][0]++, (cov_12clh6egnp().b[0][0]++, user)) && (cov_1fsjh9y7co().b[3][1]++, (cov_12clh6egnp().b[0][1]++, id)) && (cov_1fsjh9y7co().b[3][2]++, (cov_12clh6egnp().b[0][2]++, id !== 'undefined')) && (cov_1fsjh9y7co().b[3][3]++, (cov_12clh6egnp().b[0][3]++, id !== 'null')) && (cov_1fsjh9y7co().b[3][4]++, (cov_12clh6egnp().b[0][4]++, id !== 'NaN')) && (cov_1fsjh9y7co().b[3][5]++, (cov_12clh6egnp().b[0][5]++, user.bid)) && (cov_1fsjh9y7co().b[3][6]++, (cov_12clh6egnp().b[0][6]++, user.bid != id)); // eslint-disable-line eqeqeq
      });
      cov_1fsjh9y7co().s[32]++;
      cov_12clh6egnp().s[10]++;
      cov_1fsjh9y7co().s[33]++;

      if ((cov_1fsjh9y7co().b[5][0]++, (cov_12clh6egnp().b[2][0]++, basket?.Products)) && (cov_1fsjh9y7co().b[5][1]++, (cov_12clh6egnp().b[2][1]++, basket.Products.length > 0))) {
        cov_1fsjh9y7co().b[4][0]++;
        cov_1fsjh9y7co().s[34]++;
        cov_12clh6egnp().b[1][0]++;
        cov_1fsjh9y7co().s[35]++;
        cov_12clh6egnp().s[11]++;
        cov_1fsjh9y7co().s[36]++;

        for (let i = (cov_1fsjh9y7co().s[37]++, (cov_12clh6egnp().s[12]++, 0)); i < basket.Products.length; i++) {
          cov_1fsjh9y7co().s[38]++;
          cov_12clh6egnp().s[13]++;
          cov_1fsjh9y7co().s[39]++;
          basket.Products[i].name = req.__(basket.Products[i].name);
        }
      } else {
        cov_1fsjh9y7co().b[4][1]++;
        cov_1fsjh9y7co().s[40]++;
        cov_12clh6egnp().b[1][1]++;
      }

      cov_1fsjh9y7co().s[41]++;
      cov_12clh6egnp().s[14]++;
      cov_1fsjh9y7co().s[42]++;
      res.json(utils.queryResultToJson(basket));
    }).catch((error: Error) => {
      cov_1fsjh9y7co().f[6]++;
      cov_1fsjh9y7co().s[43]++;
      cov_12clh6egnp().f[4]++;
      cov_1fsjh9y7co().s[44]++;
      cov_12clh6egnp().s[15]++;
      cov_1fsjh9y7co().s[45]++;
      next(error);
    });
  };
}; //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZXF1ZXN0IiwiUmVzcG9uc2UiLCJOZXh0RnVuY3Rpb24iLCJQcm9kdWN0TW9kZWwiLCJCYXNrZXRNb2RlbCIsImNoYWxsZW5nZVV0aWxzIiwidXRpbHMiLCJyZXF1aXJlIiwic2VjdXJpdHkiLCJjaGFsbGVuZ2VzIiwibW9kdWxlIiwiZXhwb3J0cyIsInJldHJpZXZlQmFza2V0IiwicmVxIiwicmVzIiwibmV4dCIsImlkIiwicGFyYW1zIiwiZmluZE9uZSIsIndoZXJlIiwiaW5jbHVkZSIsIm1vZGVsIiwicGFyYW5vaWQiLCJhcyIsInRoZW4iLCJiYXNrZXQiLCJzb2x2ZUlmIiwiYmFza2V0QWNjZXNzQ2hhbGxlbmdlIiwidXNlciIsImF1dGhlbnRpY2F0ZWRVc2VycyIsImZyb20iLCJiaWQiLCJQcm9kdWN0cyIsImxlbmd0aCIsImkiLCJuYW1lIiwiX18iLCJqc29uIiwicXVlcnlSZXN1bHRUb0pzb24iLCJjYXRjaCIsImVycm9yIiwiRXJyb3IiXSwic291cmNlcyI6WyJiYXNrZXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDIyIEJqb2VybiBLaW1taW5pY2ggJiB0aGUgT1dBU1AgSnVpY2UgU2hvcCBjb250cmlidXRvcnMuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUXG4gKi9cblxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UsIE5leHRGdW5jdGlvbiB9IGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgeyBQcm9kdWN0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdCdcbmltcG9ydCB7IEJhc2tldE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2Jhc2tldCdcbmltcG9ydCBjaGFsbGVuZ2VVdGlscyA9IHJlcXVpcmUoJy4uL2xpYi9jaGFsbGVuZ2VVdGlscycpXG5cbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi4vbGliL3V0aWxzJylcbmNvbnN0IHNlY3VyaXR5ID0gcmVxdWlyZSgnLi4vbGliL2luc2VjdXJpdHknKVxuY29uc3QgY2hhbGxlbmdlcyA9IHJlcXVpcmUoJy4uL2RhdGEvZGF0YWNhY2hlJykuY2hhbGxlbmdlc1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJldHJpZXZlQmFza2V0ICgpIHtcbiAgcmV0dXJuIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZFxuICAgIEJhc2tldE1vZGVsLmZpbmRPbmUoeyB3aGVyZTogeyBpZCB9LCBpbmNsdWRlOiBbeyBtb2RlbDogUHJvZHVjdE1vZGVsLCBwYXJhbm9pZDogZmFsc2UsIGFzOiAnUHJvZHVjdHMnIH1dIH0pXG4gICAgICAudGhlbigoYmFza2V0OiBCYXNrZXRNb2RlbCB8IG51bGwpID0+IHtcbiAgICAgICAgLyoganNoaW50IGVxZXFlcTpmYWxzZSAqL1xuICAgICAgICBjaGFsbGVuZ2VVdGlscy5zb2x2ZUlmKGNoYWxsZW5nZXMuYmFza2V0QWNjZXNzQ2hhbGxlbmdlLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdXNlciA9IHNlY3VyaXR5LmF1dGhlbnRpY2F0ZWRVc2Vycy5mcm9tKHJlcSlcbiAgICAgICAgICByZXR1cm4gdXNlciAmJiBpZCAmJiBpZCAhPT0gJ3VuZGVmaW5lZCcgJiYgaWQgIT09ICdudWxsJyAmJiBpZCAhPT0gJ05hTicgJiYgdXNlci5iaWQgJiYgdXNlci5iaWQgIT0gaWQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKGJhc2tldD8uUHJvZHVjdHMgJiYgYmFza2V0LlByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhc2tldC5Qcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYmFza2V0LlByb2R1Y3RzW2ldLm5hbWUgPSByZXEuX18oYmFza2V0LlByb2R1Y3RzW2ldLm5hbWUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzLmpzb24odXRpbHMucXVlcnlSZXN1bHRUb0pzb24oYmFza2V0KSlcbiAgICAgIH0pLmNhdGNoKChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgICAgbmV4dChlcnJvcilcbiAgICAgIH0pXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZOzs7Ozs7Ozs7O0FBZlo7QUFDQTtBQUNBO0FBQ0E7QUFFQSxTQUFTQSxPQUFULEVBQWtCQyxRQUFsQixFQUE0QkMsWUFBNUIsUUFBZ0QsU0FBaEQ7QUFDQSxTQUFTQyxZQUFULFFBQTZCLG1CQUE3QjtBQUNBLFNBQVNDLFdBQVQsUUFBNEIsa0JBQTVCO0FBQ0EsT0FBT0MsY0FBUCxHQUF3QixRQUFRLHVCQUFSLENBQXhCO0FBRUEsTUFBTUMsS0FBSyw2QkFBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBVixDQUFYO0FBQ0EsTUFBTUMsUUFBUSw2QkFBR0QsT0FBTyxDQUFDLG1CQUFELENBQVYsQ0FBZDtBQUNBLE1BQU1FLFVBQVUsNkJBQUdGLE9BQU8sQ0FBQyxtQkFBRCxDQUFQLENBQTZCRSxVQUFoQyxDQUFoQjs7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxjQUFULEdBQTJCO0VBQUE7RUFBQTtFQUMxQyxPQUFPLENBQUNDLEdBQUcsRUFBRWIsT0FBTixFQUFlYyxHQUFHLEVBQUViLFFBQXBCLEVBQThCYyxJQUFJLEVBQUViLFlBQXBDLEtBQXFEO0lBQUE7SUFDMUQsTUFBTWMsRUFBRSw2QkFBR0gsR0FBRyxDQUFDSSxNQUFKLENBQVdELEVBQWQsQ0FBUjtJQUQwRDtJQUUxRFosV0FBVyxDQUFDYyxPQUFaLENBQW9CO01BQUVDLEtBQUssRUFBRTtRQUFFSDtNQUFGLENBQVQ7TUFBaUJJLE9BQU8sRUFBRSxDQUFDO1FBQUVDLEtBQUssRUFBRWxCLFlBQVQ7UUFBdUJtQixRQUFRLEVBQUUsS0FBakM7UUFBd0NDLEVBQUUsRUFBRTtNQUE1QyxDQUFEO0lBQTFCLENBQXBCLEVBQ0dDLElBREgsQ0FDUSxDQUFDQyxNQUFNLEVBQUVyQixXQUFXLEdBQUcsSUFBdkIsS0FBZ0M7TUFBQTtNQUFBOztNQUNwQztNQUNBQyxjQUFjLENBQUNxQixPQUFmLENBQXVCakIsVUFBVSxDQUFDa0IscUJBQWxDLEVBQXlELE1BQU07UUFBQTtRQUM3RCxNQUFNQyxJQUFJLDZCQUFHcEIsUUFBUSxDQUFDcUIsa0JBQVQsQ0FBNEJDLElBQTVCLENBQWlDakIsR0FBakMsQ0FBSCxDQUFWO1FBRDZEO1FBRTdELE9BQU8sNkJBQUFlLElBQUksa0NBQUlaLEVBQUosQ0FBSixpQ0FBY0EsRUFBRSxLQUFLLFdBQXJCLGtDQUFvQ0EsRUFBRSxLQUFLLE1BQTNDLGtDQUFxREEsRUFBRSxLQUFLLEtBQTVELGtDQUFxRVksSUFBSSxDQUFDRyxHQUExRSxrQ0FBaUZILElBQUksQ0FBQ0csR0FBTCxJQUFZZixFQUE3RixDQUFQLENBRjZELENBRTBDO01BQ3hHLENBSEQ7TUFGb0M7O01BTXBDLElBQUksNkJBQUFTLE1BQU0sRUFBRU8sUUFBUixrQ0FBb0JQLE1BQU0sQ0FBQ08sUUFBUCxDQUFnQkMsTUFBaEIsR0FBeUIsQ0FBN0MsQ0FBSixFQUFvRDtRQUFBO1FBQUE7O1FBQ2xELEtBQUssSUFBSUMsQ0FBQyw4QkFBRyxDQUFILENBQVYsRUFBZ0JBLENBQUMsR0FBR1QsTUFBTSxDQUFDTyxRQUFQLENBQWdCQyxNQUFwQyxFQUE0Q0MsQ0FBQyxFQUE3QyxFQUFpRDtVQUFBO1VBQy9DVCxNQUFNLENBQUNPLFFBQVAsQ0FBZ0JFLENBQWhCLEVBQW1CQyxJQUFuQixHQUEwQnRCLEdBQUcsQ0FBQ3VCLEVBQUosQ0FBT1gsTUFBTSxDQUFDTyxRQUFQLENBQWdCRSxDQUFoQixFQUFtQkMsSUFBMUIsQ0FBMUI7UUFDRDtNQUNGLENBSkQ7UUFBQTtNQUFBOztNQU5vQztNQVlwQ3JCLEdBQUcsQ0FBQ3VCLElBQUosQ0FBUy9CLEtBQUssQ0FBQ2dDLGlCQUFOLENBQXdCYixNQUF4QixDQUFUO0lBQ0QsQ0FkSCxFQWNLYyxLQWRMLENBY1csQ0FBQ0MsS0FBSyxFQUFFQyxLQUFSLEtBQWtCO01BQUE7TUFBQTtNQUN6QjFCLElBQUksQ0FBQ3lCLEtBQUQsQ0FBSjtJQUNELENBaEJIO0VBaUJELENBbkJEO0FBb0JELENBckJEIn0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUFMSCxJQUFZWixFQUE3RixFQUFQLENBRjZELENBRTBDO01BRnpHO01BRm9DO01BQUFKO01BQUE7O01BTXBDLElBQUksZ0VBQU0sRUFBRW9CLFFBQVIsZ0VBQW9CUCxNQUFNLENBQUNPLFFBQVBQLENBQWdCUSxNQUFoQlIsR0FBeUIsQ0FBN0MsRUFBSixFQUFvRDtRQUFBO1FBQUE7UUFBQWI7UUFBQTtRQUFBQTtRQUFBOztRQUNsRCxLQUFLLElBQUlzQixDQUFDLHlEQUFHLENBQUgsRUFBVixFQUFnQkEsQ0FBQyxHQUFHVCxNQUFNLENBQUNPLFFBQVBQLENBQWdCUSxNQUFwQyxFQUE0Q0MsQ0FBQyxFQUE3QyxFQUFpRDtVQUFBO1VBQUF0QjtVQUFBO1VBQy9DYSxNQUFNLENBQUNPLFFBQVBQLENBQWdCUyxDQUFoQlQsRUFBbUJVLElBQW5CVixHQUEwQlosR0FBRyxDQUFDdUIsRUFBSnZCLENBQU9ZLE1BQU0sQ0FBQ08sUUFBUFAsQ0FBZ0JTLENBQWhCVCxFQUFtQlUsSUFBMUJ0QixDQUExQlk7UUFDRDtNQUhIO1FBQUE7UUFBQTtRQUFBYjtNQUFBOztNQU5vQztNQUFBQTtNQUFBO01BWXBDRSxHQUFHLENBQUN1QixJQUFKdkIsQ0FBU1QsS0FBSyxDQUFDaUMsaUJBQU5qQyxDQUF3Qm9CLE1BQXhCcEIsQ0FBVFM7SUFiSixHQWNLeUIsS0FkTHBDLENBY1csQ0FBQ3FDLEtBQUssRUFBRUMsS0FBUixLQUFrQjtNQUFBO01BQUE7TUFBQTdCO01BQUE7TUFBQUE7TUFBQTtNQUN6QkcsSUFBSSxDQUFDeUIsS0FBRCxDQUFKekI7SUFmSjtFQUZGO0FBREYsRSIsIm5hbWVzIjpbIlJlcXVlc3QiLCJSZXNwb25zZSIsIk5leHRGdW5jdGlvbiIsIlByb2R1Y3RNb2RlbCIsIkJhc2tldE1vZGVsIiwiY2hhbGxlbmdlVXRpbHMiLCJ1dGlscyIsInJlcXVpcmUiLCJzZWN1cml0eSIsImNoYWxsZW5nZXMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmV0cmlldmVCYXNrZXQiLCJjb3ZfMTJjbGg2ZWducCIsInJlcSIsInJlcyIsIm5leHQiLCJpZCIsInBhcmFtcyIsImZpbmRPbmUiLCJ3aGVyZSIsImluY2x1ZGUiLCJtb2RlbCIsInBhcmFub2lkIiwiYXMiLCJ0aGVuIiwiYmFza2V0Iiwic29sdmVJZiIsImJhc2tldEFjY2Vzc0NoYWxsZW5nZSIsInVzZXIiLCJhdXRoZW50aWNhdGVkVXNlcnMiLCJmcm9tIiwiYmlkIiwiUHJvZHVjdHMiLCJsZW5ndGgiLCJpIiwibmFtZSIsIl9fIiwianNvbiIsInF1ZXJ5UmVzdWx0VG9Kc29uIiwiY2F0Y2giLCJlcnJvciIsIkVycm9yIl0sInNvdXJjZXMiOlsiYmFza2V0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAyMiBCam9lcm4gS2ltbWluaWNoICYgdGhlIE9XQVNQIEp1aWNlIFNob3AgY29udHJpYnV0b3JzLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuICovXG5cbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlLCBOZXh0RnVuY3Rpb24gfSBmcm9tICdleHByZXNzJ1xuaW1wb3J0IHsgUHJvZHVjdE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3QnXG5pbXBvcnQgeyBCYXNrZXRNb2RlbCB9IGZyb20gJy4uL21vZGVscy9iYXNrZXQnXG5pbXBvcnQgY2hhbGxlbmdlVXRpbHMgPSByZXF1aXJlKCcuLi9saWIvY2hhbGxlbmdlVXRpbHMnKVxuXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4uL2xpYi91dGlscycpXG5jb25zdCBzZWN1cml0eSA9IHJlcXVpcmUoJy4uL2xpYi9pbnNlY3VyaXR5JylcbmNvbnN0IGNoYWxsZW5nZXMgPSByZXF1aXJlKCcuLi9kYXRhL2RhdGFjYWNoZScpLmNoYWxsZW5nZXNcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXRyaWV2ZUJhc2tldCAoKSB7XG4gIHJldHVybiAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBCYXNrZXRNb2RlbC5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSwgaW5jbHVkZTogW3sgbW9kZWw6IFByb2R1Y3RNb2RlbCwgcGFyYW5vaWQ6IGZhbHNlLCBhczogJ1Byb2R1Y3RzJyB9XSB9KVxuICAgICAgLnRoZW4oKGJhc2tldDogQmFza2V0TW9kZWwgfCBudWxsKSA9PiB7XG4gICAgICAgIC8qIGpzaGludCBlcWVxZXE6ZmFsc2UgKi9cbiAgICAgICAgY2hhbGxlbmdlVXRpbHMuc29sdmVJZihjaGFsbGVuZ2VzLmJhc2tldEFjY2Vzc0NoYWxsZW5nZSwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVzZXIgPSBzZWN1cml0eS5hdXRoZW50aWNhdGVkVXNlcnMuZnJvbShyZXEpXG4gICAgICAgICAgcmV0dXJuIHVzZXIgJiYgaWQgJiYgaWQgIT09ICd1bmRlZmluZWQnICYmIGlkICE9PSAnbnVsbCcgJiYgaWQgIT09ICdOYU4nICYmIHVzZXIuYmlkICYmIHVzZXIuYmlkICE9IGlkIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChiYXNrZXQ/LlByb2R1Y3RzICYmIGJhc2tldC5Qcm9kdWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXNrZXQuUHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJhc2tldC5Qcm9kdWN0c1tpXS5uYW1lID0gcmVxLl9fKGJhc2tldC5Qcm9kdWN0c1tpXS5uYW1lKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5qc29uKHV0aWxzLnF1ZXJ5UmVzdWx0VG9Kc29uKGJhc2tldCkpXG4gICAgICB9KS5jYXRjaCgoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICAgIG5leHQoZXJyb3IpXG4gICAgICB9KVxuICB9XG59XG4iXX0=