"use strict";
/*
 * Copyright (c) 2014-2022 Bjoern Kimminich & the OWASP Juice Shop contributors.
 * SPDX-License-Identifier: MIT
 */

function cov_2pbpgekua2() {
  var path = "/home/shubham/Desktop/juice-shop/build/routes/delivery.js";
  var hash = "cbbec47f0ad65af8c0adfb907f2766a88f0b0aeb";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/shubham/Desktop/juice-shop/build/routes/delivery.js",
    statementMap: {
      "0": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 6,
          column: 62
        }
      },
      "1": {
        start: {
          line: 7,
          column: 19
        },
        end: {
          line: 7,
          column: 48
        }
      },
      "2": {
        start: {
          line: 8,
          column: 17
        },
        end: {
          line: 8,
          column: 45
        }
      },
      "3": {
        start: {
          line: 9,
          column: 0
        },
        end: {
          line: 29,
          column: 2
        }
      },
      "4": {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 28,
          column: 6
        }
      },
      "5": {
        start: {
          line: 11,
          column: 24
        },
        end: {
          line: 11,
          column: 64
        }
      },
      "6": {
        start: {
          line: 12,
          column: 8
        },
        end: {
          line: 27,
          column: 9
        }
      },
      "7": {
        start: {
          line: 13,
          column: 32
        },
        end: {
          line: 13,
          column: 34
        }
      },
      "8": {
        start: {
          line: 14,
          column: 12
        },
        end: {
          line: 22,
          column: 13
        }
      },
      "9": {
        start: {
          line: 15,
          column: 16
        },
        end: {
          line: 21,
          column: 19
        }
      },
      "10": {
        start: {
          line: 23,
          column: 12
        },
        end: {
          line: 23,
          column: 75
        }
      },
      "11": {
        start: {
          line: 26,
          column: 12
        },
        end: {
          line: 26,
          column: 54
        }
      },
      "12": {
        start: {
          line: 30,
          column: 0
        },
        end: {
          line: 47,
          column: 2
        }
      },
      "13": {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 46,
          column: 6
        }
      },
      "14": {
        start: {
          line: 32,
          column: 23
        },
        end: {
          line: 32,
          column: 95
        }
      },
      "15": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 45,
          column: 9
        }
      },
      "16": {
        start: {
          line: 34,
          column: 31
        },
        end: {
          line: 40,
          column: 13
        }
      },
      "17": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 41,
          column: 74
        }
      },
      "18": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 44,
          column: 54
        }
      }
    },
    fnMap: {
      "0": {
        name: "getDeliveryMethods",
        decl: {
          start: {
            line: 9,
            column: 45
          },
          end: {
            line: 9,
            column: 63
          }
        },
        loc: {
          start: {
            line: 9,
            column: 66
          },
          end: {
            line: 29,
            column: 1
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 10,
            column: 11
          },
          end: {
            line: 10,
            column: 12
          }
        },
        loc: {
          start: {
            line: 10,
            column: 37
          },
          end: {
            line: 28,
            column: 5
          }
        },
        line: 10
      },
      "2": {
        name: "getDeliveryMethod",
        decl: {
          start: {
            line: 30,
            column: 44
          },
          end: {
            line: 30,
            column: 61
          }
        },
        loc: {
          start: {
            line: 30,
            column: 64
          },
          end: {
            line: 47,
            column: 1
          }
        },
        line: 30
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 31,
            column: 11
          },
          end: {
            line: 31,
            column: 12
          }
        },
        loc: {
          start: {
            line: 31,
            column: 37
          },
          end: {
            line: 46,
            column: 5
          }
        },
        line: 31
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        }, {
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        }],
        line: 12
      },
      "1": {
        loc: {
          start: {
            line: 18,
            column: 27
          },
          end: {
            line: 18,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 18,
            column: 52
          },
          end: {
            line: 18,
            column: 70
          }
        }, {
          start: {
            line: 18,
            column: 73
          },
          end: {
            line: 18,
            column: 85
          }
        }],
        line: 18
      },
      "2": {
        loc: {
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        }, {
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        }],
        line: 33
      },
      "3": {
        loc: {
          start: {
            line: 37,
            column: 23
          },
          end: {
            line: 37,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 37,
            column: 48
          },
          end: {
            line: 37,
            column: 66
          }
        }, {
          start: {
            line: 37,
            column: 69
          },
          end: {
            line: 37,
            column: 81
          }
        }],
        line: 37
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      file: "delivery.js",
      sourceRoot: "",
      sources: ["../../routes/delivery.ts"],
      names: [],
      mappings: ";AAAA;;;GAGG;;AAGH,iDAAkD;AAElD,MAAM,QAAQ,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AAE7C,MAAM,CAAC,OAAO,CAAC,kBAAkB,GAAG,SAAS,kBAAkB;IAC7D,OAAO,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;QAC/D,MAAM,OAAO,GAAG,MAAM,wBAAa,CAAC,OAAO,EAAE,CAAA;QAC7C,IAAI,OAAO,EAAE;YACX,MAAM,WAAW,GAAG,EAAE,CAAA;YACtB,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;gBAC5B,WAAW,CAAC,IAAI,CAAC;oBACf,EAAE,EAAE,MAAM,CAAC,EAAE;oBACb,IAAI,EAAE,MAAM,CAAC,IAAI;oBACjB,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK;oBACjE,GAAG,EAAE,MAAM,CAAC,GAAG;oBACf,IAAI,EAAE,MAAM,CAAC,IAAI;iBAClB,CAAC,CAAA;aACH;YACD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,CAAA;SAC/D;aAAM;YACL,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAA;SAC1C;IACH,CAAC,CAAA;AACH,CAAC,CAAA;AAED,MAAM,CAAC,OAAO,CAAC,iBAAiB,GAAG,SAAS,iBAAiB;IAC3D,OAAO,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;QAC/D,MAAM,MAAM,GAAG,MAAM,wBAAa,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;QAC5E,IAAI,MAAM,EAAE;YACV,MAAM,UAAU,GAAG;gBACjB,EAAE,EAAE,MAAM,CAAC,EAAE;gBACb,IAAI,EAAE,MAAM,CAAC,IAAI;gBACjB,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK;gBACjE,GAAG,EAAE,MAAM,CAAC,GAAG;gBACf,IAAI,EAAE,MAAM,CAAC,IAAI;aAClB,CAAA;YACD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAA;SAC9D;aAAM;YACL,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAA;SAC1C;IACH,CAAC,CAAA;AACH,CAAC,CAAA"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "cbbec47f0ad65af8c0adfb907f2766a88f0b0aeb"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2pbpgekua2 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_2pbpgekua2();
cov_2pbpgekua2().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
const delivery_1 = (cov_2pbpgekua2().s[1]++, require("../models/delivery"));
const security = (cov_2pbpgekua2().s[2]++, require('../lib/insecurity'));
cov_2pbpgekua2().s[3]++;

module.exports.getDeliveryMethods = function getDeliveryMethods() {
  cov_2pbpgekua2().f[0]++;
  cov_2pbpgekua2().s[4]++;
  return async (req, res, next) => {
    cov_2pbpgekua2().f[1]++;
    const methods = (cov_2pbpgekua2().s[5]++, await delivery_1.DeliveryModel.findAll());
    cov_2pbpgekua2().s[6]++;

    if (methods) {
      cov_2pbpgekua2().b[0][0]++;
      const sendMethods = (cov_2pbpgekua2().s[7]++, []);
      cov_2pbpgekua2().s[8]++;

      for (const method of methods) {
        cov_2pbpgekua2().s[9]++;
        sendMethods.push({
          id: method.id,
          name: method.name,
          price: security.isDeluxe(req) ? (cov_2pbpgekua2().b[1][0]++, method.deluxePrice) : (cov_2pbpgekua2().b[1][1]++, method.price),
          eta: method.eta,
          icon: method.icon
        });
      }

      cov_2pbpgekua2().s[10]++;
      res.status(200).json({
        status: 'success',
        data: sendMethods
      });
    } else {
      cov_2pbpgekua2().b[0][1]++;
      cov_2pbpgekua2().s[11]++;
      res.status(400).json({
        status: 'error'
      });
    }
  };
};

cov_2pbpgekua2().s[12]++;

module.exports.getDeliveryMethod = function getDeliveryMethod() {
  cov_2pbpgekua2().f[2]++;
  cov_2pbpgekua2().s[13]++;
  return async (req, res, next) => {
    cov_2pbpgekua2().f[3]++;
    const method = (cov_2pbpgekua2().s[14]++, await delivery_1.DeliveryModel.findOne({
      where: {
        id: req.params.id
      }
    }));
    cov_2pbpgekua2().s[15]++;

    if (method) {
      cov_2pbpgekua2().b[2][0]++;
      const sendMethod = (cov_2pbpgekua2().s[16]++, {
        id: method.id,
        name: method.name,
        price: security.isDeluxe(req) ? (cov_2pbpgekua2().b[3][0]++, method.deluxePrice) : (cov_2pbpgekua2().b[3][1]++, method.price),
        eta: method.eta,
        icon: method.icon
      });
      cov_2pbpgekua2().s[17]++;
      res.status(200).json({
        status: 'success',
        data: sendMethod
      });
    } else {
      cov_2pbpgekua2().b[2][1]++;
      cov_2pbpgekua2().s[18]++;
      res.status(400).json({
        status: 'error'
      });
    }
  };
}; //# sourceMappingURL=delivery.js.map
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFaEIsUUFBUSxDQUFDaUIsUUFBVCxDQUFrQlosR0FBbEIsaUNBQXlCTyxNQUFNLENBQUNNLFdBQWhDLGlDQUE4Q04sTUFBTSxDQUFDSSxLQUFyRCxDQUhVO1FBSWpCRyxHQUFHLEVBQUVQLE1BQU0sQ0FBQ08sR0FKSztRQUtqQkMsSUFBSSxFQUFFUixNQUFNLENBQUNRO01BTEksQ0FBSCxDQUFoQjtNQURVO01BUVZkLEdBQUcsQ0FBQ2UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO1FBQUVELE1BQU0sRUFBRSxTQUFWO1FBQXFCRSxJQUFJLEVBQUVLO01BQTNCLENBQXJCO0lBQ0QsQ0FURCxNQVNPO01BQUE7TUFBQTtNQUNMdEIsR0FBRyxDQUFDZSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7UUFBRUQsTUFBTSxFQUFFO01BQVYsQ0FBckI7SUFDRDtFQUNGLENBZEQ7QUFlRCxDQWhCRCxDIiwibmFtZXMiOlsic2VjdXJpdHkiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldERlbGl2ZXJ5TWV0aG9kcyIsInJlcSIsInJlcyIsIm5leHQiLCJtZXRob2RzIiwiZGVsaXZlcnlfMSIsImZpbmRBbGwiLCJzZW5kTWV0aG9kcyIsIm1ldGhvZCIsInB1c2giLCJpZCIsIm5hbWUiLCJwcmljZSIsImlzRGVsdXhlIiwiZGVsdXhlUHJpY2UiLCJldGEiLCJpY29uIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJnZXREZWxpdmVyeU1ldGhvZCIsImZpbmRPbmUiLCJ3aGVyZSIsInBhcmFtcyIsInNlbmRNZXRob2QiXSwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vcm91dGVzL2RlbGl2ZXJ5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF19